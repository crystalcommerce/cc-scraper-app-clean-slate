/*! For license information please see index.js.LICENSE.txt */
(()=>{var t={9669:(t,e,r)=>{t.exports=r(1609)},5448:(t,e,r)=>{"use strict";var n=r(4867),o=r(6026),i=r(4372),a=r(5327),s=r(4097),c=r(4109),u=r(7985),l=r(7874),f=r(2648),h=r(644),d=r(205);t.exports=function(t){return new Promise((function(e,r){var p,y=t.data,v=t.headers,m=t.responseType;function g(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}n.isFormData(y)&&n.isStandardBrowserEnv()&&delete v["Content-Type"];var b=new XMLHttpRequest;if(t.auth){var w=t.auth.username||"",x=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";v.Authorization="Basic "+btoa(w+":"+x)}var _=s(t.baseURL,t.url);function O(){if(b){var n="getAllResponseHeaders"in b?c(b.getAllResponseHeaders()):null,i={data:m&&"text"!==m&&"json"!==m?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:n,config:t,request:b};o((function(t){e(t),g()}),(function(t){r(t),g()}),i),b=null}}if(b.open(t.method.toUpperCase(),a(_,t.params,t.paramsSerializer),!0),b.timeout=t.timeout,"onloadend"in b?b.onloadend=O:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(O)},b.onabort=function(){b&&(r(new f("Request aborted",f.ECONNABORTED,t,b)),b=null)},b.onerror=function(){r(new f("Network Error",f.ERR_NETWORK,t,b,b)),b=null},b.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",n=t.transitional||l;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(new f(e,n.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,t,b)),b=null},n.isStandardBrowserEnv()){var S=(t.withCredentials||u(_))&&t.xsrfCookieName?i.read(t.xsrfCookieName):void 0;S&&(v[t.xsrfHeaderName]=S)}"setRequestHeader"in b&&n.forEach(v,(function(t,e){void 0===y&&"content-type"===e.toLowerCase()?delete v[e]:b.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(b.withCredentials=!!t.withCredentials),m&&"json"!==m&&(b.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&b.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(p=function(t){b&&(r(!t||t&&t.type?new h:t),b.abort(),b=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p))),y||(y=null);var k=d(_);k&&-1===["http","https","file"].indexOf(k)?r(new f("Unsupported protocol "+k+":",f.ERR_BAD_REQUEST,t)):b.send(y)}))}},1609:(t,e,r)=>{"use strict";var n=r(4867),o=r(1849),i=r(321),a=r(7185),s=function t(e){var r=new i(e),s=o(i.prototype.request,r);return n.extend(s,i.prototype,r),n.extend(s,r),s.create=function(r){return t(a(e,r))},s}(r(5546));s.Axios=i,s.CanceledError=r(644),s.CancelToken=r(4972),s.isCancel=r(6502),s.VERSION=r(7288).version,s.toFormData=r(7675),s.AxiosError=r(2648),s.Cancel=s.CanceledError,s.all=function(t){return Promise.all(t)},s.spread=r(8713),s.isAxiosError=r(6268),t.exports=s,t.exports.default=s},4972:(t,e,r)=>{"use strict";var n=r(644);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,n=r._listeners.length;for(e=0;e<n;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},o.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},644:(t,e,r)=>{"use strict";var n=r(2648);function o(t){n.call(this,null==t?"canceled":t,n.ERR_CANCELED),this.name="CanceledError"}r(4867).inherits(o,n,{__CANCEL__:!0}),t.exports=o},6502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,r)=>{"use strict";var n=r(4867),o=r(5327),i=r(782),a=r(3572),s=r(7185),c=r(4097),u=r(4875),l=u.validators;function f(t){this.defaults=t,this.interceptors={request:new i,response:new i}}f.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;void 0!==r&&u.assertOptions(r,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(o=o&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,c=[];if(this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)})),!o){var f=[a,void 0];for(Array.prototype.unshift.apply(f,n),f=f.concat(c),i=Promise.resolve(e);f.length;)i=i.then(f.shift(),f.shift());return i}for(var h=e;n.length;){var d=n.shift(),p=n.shift();try{h=d(h)}catch(t){p(t);break}}try{i=a(h)}catch(t){return Promise.reject(t)}for(;c.length;)i=i.then(c.shift(),c.shift());return i},f.prototype.getUri=function(t){t=s(this.defaults,t);var e=c(t.baseURL,t.url);return o(e,t.params,t.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(t){f.prototype[t]=function(e,r){return this.request(s(r||{},{method:t,url:e,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,o){return this.request(s(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}f.prototype[t]=e(),f.prototype[t+"Form"]=e(!0)})),t.exports=f},2648:(t,e,r)=>{"use strict";var n=r(4867);function o(t,e,r,n,o){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}n.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=o.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(t){a[t]={value:t}})),Object.defineProperties(o,a),Object.defineProperty(i,"isAxiosError",{value:!0}),o.from=function(t,e,r,a,s,c){var u=Object.create(i);return n.toFlatObject(t,u,(function(t){return t!==Error.prototype})),o.call(u,t.message,e,r,a,s),u.name=t.name,c&&Object.assign(u,c),u},t.exports=o},782:(t,e,r)=>{"use strict";var n=r(4867);function o(){this.handlers=[]}o.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},4097:(t,e,r)=>{"use strict";var n=r(1793),o=r(7303);t.exports=function(t,e){return t&&!n(e)?o(t,e):e}},3572:(t,e,r)=>{"use strict";var n=r(4867),o=r(8527),i=r(6502),a=r(5546),s=r(644);function c(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s}t.exports=function(t){return c(t),t.headers=t.headers||{},t.data=o.call(t,t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return c(t),e.data=o.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(c(t),e&&e.response&&(e.response.data=o.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},7185:(t,e,r)=>{"use strict";var n=r(4867);t.exports=function(t,e){e=e||{};var r={};function o(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function i(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:o(void 0,t[r]):o(t[r],e[r])}function a(t){if(!n.isUndefined(e[t]))return o(void 0,e[t])}function s(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:o(void 0,t[r]):o(void 0,e[r])}function c(r){return r in e?o(t[r],e[r]):r in t?o(void 0,t[r]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return n.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=u[t]||i,o=e(t);n.isUndefined(o)&&e!==c||(r[t]=o)})),r}},6026:(t,e,r)=>{"use strict";var n=r(2648);t.exports=function(t,e,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?e(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}},8527:(t,e,r)=>{"use strict";var n=r(4867),o=r(5546);t.exports=function(t,e,r){var i=this||o;return n.forEach(r,(function(r){t=r.call(i,t,e)})),t}},5546:(t,e,r)=>{"use strict";var n=r(4867),o=r(6016),i=r(2648),a=r(7874),s=r(7675),c={"Content-Type":"application/x-www-form-urlencoded"};function u(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var l,f={transitional:a,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=r(5448)),l),transformRequest:[function(t,e){if(o(e,"Accept"),o(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t))return t;if(n.isArrayBufferView(t))return t.buffer;if(n.isURLSearchParams(t))return u(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var r,i=n.isObject(t),a=e&&e["Content-Type"];if((r=n.isFileList(t))||i&&"multipart/form-data"===a){var c=this.env&&this.env.FormData;return s(r?{"files[]":t}:t,c&&new c)}return i||"application/json"===a?(u(e,"application/json"),function(t,e,r){if(n.isString(t))try{return(0,JSON.parse)(t),n.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||f.transitional,r=e&&e.silentJSONParsing,o=e&&e.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||o&&n.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(a){if("SyntaxError"===t.name)throw i.from(t,i.ERR_BAD_RESPONSE,this,null,this.response);throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(1623)},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){f.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){f.headers[t]=n.merge(c)})),t.exports=f},7874:t=>{"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:t=>{t.exports={version:"0.27.2"}},1849:t=>{"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},5327:(t,e,r)=>{"use strict";var n=r(4867);function o(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var i;if(r)i=r(e);else if(n.isURLSearchParams(e))i=e.toString();else{var a=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))})))})),i=a.join("&")}if(i){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},7303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:(t,e,r)=>{"use strict";var n=r(4867);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},6268:(t,e,r)=>{"use strict";var n=r(4867);t.exports=function(t){return n.isObject(t)&&!0===t.isAxiosError}},7985:(t,e,r)=>{"use strict";var n=r(4867);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=o(window.location.href),function(e){var r=n.isString(e)?o(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},6016:(t,e,r)=>{"use strict";var n=r(4867);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},1623:t=>{t.exports=null},4109:(t,e,r)=>{"use strict";var n=r(4867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,i,a={};return t?(n.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=n.trim(t.substr(0,i)).toLowerCase(),r=n.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([r]):a[e]?a[e]+", "+r:r}})),a):a}},205:t=>{"use strict";t.exports=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}},8713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},7675:(t,e,r)=>{"use strict";var n=r(4867);t.exports=function(t,e){e=e||new FormData;var r=[];function o(t){return null===t?"":n.isDate(t)?t.toISOString():n.isArrayBuffer(t)||n.isTypedArray(t)?"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}return function t(i,a){if(n.isPlainObject(i)||n.isArray(i)){if(-1!==r.indexOf(i))throw Error("Circular reference detected in "+a);r.push(i),n.forEach(i,(function(r,i){if(!n.isUndefined(r)){var s,c=a?a+"."+i:i;if(r&&!a&&"object"==typeof r)if(n.endsWith(i,"{}"))r=JSON.stringify(r);else if(n.endsWith(i,"[]")&&(s=n.toArray(r)))return void s.forEach((function(t){!n.isUndefined(t)&&e.append(c,o(t))}));t(r,c)}})),r.pop()}else e.append(a,o(i))}(t),e}},4875:(t,e,r)=>{"use strict";var n=r(7288).version,o=r(2648),i={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){i[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var a={};i.transitional=function(t,e,r){function i(t,e){return"[Axios v"+n+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,n,s){if(!1===t)throw new o(i(n," has been removed"+(e?" in "+e:"")),o.ERR_DEPRECATED);return e&&!a[n]&&(a[n]=!0,console.warn(i(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,s)}},t.exports={assertOptions:function(t,e,r){if("object"!=typeof t)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],s=e[a];if(s){var c=t[a],u=void 0===c||s(c,a,t);if(!0!==u)throw new o("option "+a+" must be "+u,o.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new o("Unknown option "+a,o.ERR_BAD_OPTION)}},validators:i}},4867:(t,e,r)=>{"use strict";var n,o=r(1849),i=Object.prototype.toString,a=(n=Object.create(null),function(t){var e=i.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())});function s(t){return t=t.toLowerCase(),function(e){return a(e)===t}}function c(t){return Array.isArray(t)}function u(t){return void 0===t}var l=s("ArrayBuffer");function f(t){return null!==t&&"object"==typeof t}function h(t){if("object"!==a(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var d=s("Date"),p=s("File"),y=s("Blob"),v=s("FileList");function m(t){return"[object Function]"===i.call(t)}var g=s("URLSearchParams");function b(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),c(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}var w,x=(w="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(t){return w&&t instanceof w});t.exports={isArray:c,isArrayBuffer:l,isBuffer:function(t){return null!==t&&!u(t)&&null!==t.constructor&&!u(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){var e="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||i.call(t)===e||m(t.toString)&&t.toString()===e)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&l(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:f,isPlainObject:h,isUndefined:u,isDate:d,isFile:p,isBlob:y,isFunction:m,isStream:function(t){return f(t)&&m(t.pipe)},isURLSearchParams:g,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:b,merge:function t(){var e={};function r(r,n){h(e[n])&&h(r)?e[n]=t(e[n],r):h(r)?e[n]=t({},r):c(r)?e[n]=r.slice():e[n]=r}for(var n=0,o=arguments.length;n<o;n++)b(arguments[n],r);return e},extend:function(t,e,r){return b(e,(function(e,n){t[n]=r&&"function"==typeof e?o(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)},toFlatObject:function(t,e,r){var n,o,i,a={};e=e||{};do{for(o=(n=Object.getOwnPropertyNames(t)).length;o-- >0;)a[i=n[o]]||(e[i]=t[i],a[i]=!0);t=Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:a,kindOfTest:s,endsWith:function(t,e,r){t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return-1!==n&&n===r},toArray:function(t){if(!t)return null;var e=t.length;if(u(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r},isTypedArray:x,isFileList:v}},4229:(t,e,r)=>{var n=new(0,r(5486).CcIndexedDb)({collectionName:"categorized-sets"});n.recordName="categorized-set",n.addProps("validDataProps","setId","url","setData"),t.exports=n},9779:(t,e,r)=>{var n=r(346),o=r(4229),i=r(5114);t.exports={productsOfflineDb:n,categorizedSetsOfflineDb:o,urlProcessInitializer:i}},346:(t,e,r)=>{var n=new(0,r(5486).CcIndexedDb)({collectionName:"products"});n.recordName="product",n.addProps("validDataProps","productUri","imageUris","setId","_id","__v","multiFaced"),t.exports=n},5114:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){"use strict";o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function p(){}function y(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,a)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,c){var u=f(t[i],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,c)}),(function(t){o("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,c)}))}c(u.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=y,u(b,"constructor",y),u(y,"constructor",p),p.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),u(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function i(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function s(t){i(a,n,o,s,c,"next",t)}function c(t){i(a,n,o,s,c,"throw",t)}s(void 0)}))}}t.exports=function(){var t=r(4429),e=t.UrlProcess,n=t.CategorizedSetsScraper,i=t.SingleProductScraper,s=t.MultiSingleProductInitializer,c=t.MultiProductsSetInitializer,u=t.ProductsSetScraper;function l(t){return f.apply(this,arguments)}function f(){return(f=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(e.scraperObject=new i(e.scraperOptions),!e.callbacks.length){t.next=8;break}return t.next=6,e.executeCallbacks();case 6:t.next=12;break;case 8:return t.next=10,e.scraperObject.executeByParentChannelCommand("awaitSelectors");case 10:return t.next=12,e.scraperObject.executeByParentChannelCommand("scrapeData");case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return d.apply(this,arguments)}function d(){return(d=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(e.scraperObject=new u(e.scraperOptions),!e.callbacks.length){t.next=8;break}return t.next=6,e.executeCallbacks();case 6:t.next=12;break;case 8:return t.next=10,e.scraperObject.executeByParentChannelCommand("awaitSelectors");case 10:return t.next=12,e.scraperObject.executeByParentChannelCommand("getProductObjects");case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t){return y.apply(this,arguments)}function y(){return(y=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:e.scraperObject=new c(e.scraperOptions);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return m.apply(this,arguments)}function m(){return(m=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:e.scraperObject=new s(e.scraperOptions);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t){return g.apply(this,arguments)}function g(){return(g=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(e.scraperObject=new i(e.scraperOptions),!e.callbacks.length){t.next=8;break}return t.next=6,e.executeCallbacks();case 6:t.next=12;break;case 8:return t.next=10,e.scraperObject.executeByParentChannelCommand("awaitSelectors");case 10:return t.next=12,e.scraperObject.executeByParentChannelCommand("scrapeData");case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return b.apply(this,arguments)}function b(){return(b=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(e.scraperObject=new u(e.scraperOptions),!e.callbacks.length){t.next=8;break}return t.next=6,e.executeCallbacks();case 6:t.next=12;break;case 8:return t.next=10,e.scraperObject.executeByParentChannelCommand("awaitSelectors");case 10:return t.next=12,e.scraperObject.executeByParentChannelCommand("getProductObjects");case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return w.apply(this,arguments)}function w(){return(w=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:e.scraperObject=new s(e.scraperOptions);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t){return x.apply(this,arguments)}function x(){return(x=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:e.scraperObject=new c(e.scraperOptions);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return O.apply(this,arguments)}function O(){return(O=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:e.scraperObject=new n(e.scraperOptions);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return(S=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(!e.scraperRunning){t.next=27;break}if(e.scraperOptions.evaluatorObject=window.___cc__CcScraperGlobalObject.evaluatorObject,"single"!==e.type||!e.scraperOptions){t.next=9;break}return t.next=7,l(e);case 7:case 12:case 17:case 22:t.next=27;break;case 9:if("set"!==e.type||!e.scraperOptions){t.next=14;break}return t.next=12,h(e);case 14:if("multi-single-product"!==e.type||!e.scraperOptions){t.next=19;break}return t.next=17,v(e);case 19:if("multi-products-set"!==e.type||!e.scraperOptions){t.next=24;break}return t.next=22,p(e);case 24:if("categorized-set"!==e.type||!e.scraperOptions){t.next=27;break}return t.next=27,_(e);case 27:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var k=e.decodeProcessFromUrl(window.location.href);return{currentProcess:k?new e(k):null,decodedProcessFromUrl:k,initializeScraping:function(t){return S.apply(this,arguments)}}}},2281:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(){"use strict";s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function p(){}function y(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,c){var u=f(t[i],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,c)}),(function(t){o("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,c)}))}c(u.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=y,u(b,"constructor",y),u(y,"constructor",p),p.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),u(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function c(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){c(i,n,o,a,s,"next",t)}function s(t){c(i,n,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=h(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function h(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=r(3858).Localbase,v=r(4731),m=v.generateUuid,g=v.enumerate,b=v.toNormalString,w=v.moderator,x=function(){function t(e){var r=e.collectionName,n=e.recordName;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!r)throw Error("This class constructor requires a collection Name");Object.defineProperties(this,{dbName:{value:"___cc-scraper-local-db",writable:!1,enumerable:!0},recordName:{value:n,writable:!0,enumerable:!0},collectionName:{value:r,writable:!1,enumerable:!0},uniqueProps:{value:[],writable:!1,enumerable:!0},immutableProps:{value:["id","dateCreated"],writable:!1,enumerable:!0},defaultValuedProps:{value:[{dateCreated:Date.now()}],writable:!1,enumerable:!0},validDataProps:{value:[],writable:!1,enumerable:!0}}),this.db=new y(this.dbName),Object.defineProperties(this.db.config,{debug:{value:!1,writable:!1,enumerable:!0}})}var e,r,n,i,c,h,d,v,x,_,O,S,k,j,P;return e=t,r=[{key:"addProps",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var o=0,i=r;o<i.length;o++){var a=i[o];this[t]&&!this[t].includes(a)&&this[t].push(a)}}},{key:"setDefaultValuedProps",value:function(t){var e,r=f(this.defaultValuedProps);try{for(r.s();!(e=r.n()).done;){var n=e.value;for(var o in n)t[o]=void 0!==t[o]?t[o]:n[o]}}catch(t){r.e(t)}finally{r.f()}}},{key:"removeProps",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var o=0,i=r;o<i.length;o++){var a=i[o];if(this[t].includes(a)){var s=this[t].indexOf(a);this[t].splice(s,1)}}}},{key:"removeInvalidProps",value:function(t){for(var e in this.validDataProps)this.validDataProps.includes(e)||delete t[e]}},{key:"removeImmutableProps",value:function(t){var e=[];for(var r in t)this.immutableProps.includes(r)&&(e.push(l({},r,t[r])),delete t[r]);return{data:t,unsavedDataProps:e}}},{key:"removeSamePropertyValues",value:function(t,e){var r=[];for(var n in t)t[n]===e[n]&&(r.push(l({},n,t[n])),delete t[n]);return{data:t,unsavedDataProps:r}}},{key:"removeNonUniqueProps",value:(P=u(s().mark((function t(e,r){var n,o,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],o=f(this.uniqueProps),t.prev=2,o.s();case 4:if((i=o.n()).done){t.next=14;break}if(a=i.value,!e[a]){t.next=12;break}return t.next=9,this.getAllFilteredData(l({},a,e[a]));case 9:t.sent.filter((function(t){return t.id!==r.id})).length&&(n.push(l({},a,e[a])),delete e[a]);case 12:t.next=4;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),o.e(t.t0);case 19:return t.prev=19,o.f(),t.finish(19);case 22:return t.abrupt("return",{data:e,unsavedDataProps:n});case 23:case"end":return t.stop()}}),t,this,[[2,16,19,22]])}))),function(t,e){return P.apply(this,arguments)})},{key:"checkUniqueProps",value:(j=u(s().mark((function t(e){var r,n,o,i,a,c,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],n=f(this.uniqueProps),t.prev=2,n.s();case 4:if((o=n.n()).done){t.next=12;break}return i=o.value,t.next=8,this.getAllFilteredData(l({},i,e[i]));case 8:a=t.sent,r.push({key:i,isUnique:0===a.length});case 10:t.next=4;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),n.e(t.t0);case 17:return t.prev=17,n.f(),t.finish(17);case 20:return c=r.every((function(t){return t.isUnique})),u=r.filter((function(t){return!t.isUnique})),t.abrupt("return",{statusOk:c,isUnique:c,noneUniqueProps:u});case 22:case"end":return t.stop()}}),t,this,[[2,14,17,20]])}))),function(t){return j.apply(this,arguments)})},{key:"getOneById",value:(k=u(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.collection(this.collectionName).doc({id:e}).get();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return k.apply(this,arguments)})},{key:"getOneByFilter",value:(S=u(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.collection(this.collectionName).doc(e).get();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return S.apply(this,arguments)})},{key:"getAll",value:(O=u(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.collection(this.collectionName).get();case 2:return e=t.sent,t.abrupt("return",e||[]);case 4:case"end":return t.stop()}}),t,this)}))),function(){return O.apply(this,arguments)})},{key:"getAllFilteredData",value:(_=u(s().mark((function t(e){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAll();case 2:return r=t.sent,Array.isArray(r)||(r=[]),t.abrupt("return",r.filter((function(t){var r=[];for(var n in e)r.push(t[n]===e[n]);return r.every((function(t){return t}))})));case 5:case"end":return t.stop()}}),t,this)}))),function(t){return _.apply(this,arguments)})},{key:"create",value:(x=u(s().mark((function t(e){var r,n,o,i,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=m(),t.next=3,this.checkUniqueProps(a({id:r},e));case 3:if(n=t.sent,o=n.isUnique,i=null,c=null,o){t.next=9;break}return t.abrupt("return",{statusOk:!1,message:"The ".concat(this.recordName,"'s ").concat(g(this.uniqueProps)," may have been already used by another ").concat(this.recordName,".")});case 9:return this.removeInvalidProps(e),this.setDefaultValuedProps(e),c=a({id:r},e),t.next=14,this.db.collection(this.collectionName).add(c);case 14:return i=t.sent,t.next=17,new Promise((function(t){var e=setInterval((function(){i&&(clearInterval(e),t())}),10)}));case 17:return t.abrupt("return",i.success?{statusOk:!0,data:i.data,message:i.message}:{statusOk:!1,message:i.message});case 18:case"end":return t.stop()}}),t,this)}))),function(t){return x.apply(this,arguments)})},{key:"createMultiple",value:(v=u(s().mark((function t(e){var r,n=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.next=3,w(e,function(){var t=u(s().mark((function t(e){var o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.map((function(t){return u(s().mark((function e(){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.create(t);case 2:o=e.sent,r.push(o);case 4:case"end":return e.stop()}}),e)})))})),t.next=3,Promise.all(o.map((function(t){return t()})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),1);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),function(t){return v.apply(this,arguments)})},{key:"update",value:(d=u(s().mark((function t(e,r){var n,i,c,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOneById(e);case 2:if(n=t.sent,i=null,n){t.next=6;break}return t.abrupt("return",{statusOk:!1,message:"We were unable to find a ".concat(this.recordName," with an id of ").concat(e,". No ").concat(this.recordName," was updated.")});case 6:return this.removeInvalidProps(r),c=this.removeImmutableProps(r),u=[],c.unsavedDataProps.length&&u.push({fields:o(c.unsavedDataProps),reason:"Data cannot be modified"}),t.next=11,this.removeNonUniqueProps(r,n);case 11:if((c=t.sent).unsavedDataProps.length&&u.push({fields:o(c.unsavedDataProps),reason:"Data is already being used by another ".concat(this.recordName)}),Object.keys(r).length){t.next=15;break}return t.abrupt("return",{statusOk:!1,unsavedData:u});case 15:if((c=this.removeSamePropertyValues(r,n)).unsavedDataProps.length&&u.push({fields:o(c.unsavedDataProps),reason:"Data we have in our ".concat(this.recordName,"s' database is the same.")}),Object.keys(r).length){t.next=19;break}return t.abrupt("return",{statusOk:!1,unsavedData:u});case 19:return t.next=21,this.db.collection(this.collectionName).doc({id:e}).update(r);case 21:return i=t.sent,t.next=24,new Promise((function(t){var e=setInterval((function(){i&&(clearInterval(e),t())}),10)}));case 24:return t.abrupt("return",{statusOk:!0,message:"We have successfully updated the ".concat(this.recordName,"'s ").concat(g(Object.keys(r).map((function(t){return b(t)})),!0)," in our ").concat(this.recordName,"s' database. ").concat(i.message),data:a(a({},n),r),unsavedData:u});case 25:case"end":return t.stop()}}),t,this)}))),function(t,e){return d.apply(this,arguments)})},{key:"updateMany",value:(h=u(s().mark((function t(e){var r,n=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.next=3,w(e,function(){var t=u(s().mark((function t(e){var o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.map((function(t){return u(s().mark((function e(){var o,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.id,i=t.data,e.next=4,n.update(o,i);case 4:a=e.sent,r.push(a);case 6:case"end":return e.stop()}}),e)})))})),t.next=3,Promise.all(o.map((function(t){return t()})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),10);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),function(t){return h.apply(this,arguments)})},{key:"delete",value:(c=u(s().mark((function t(e){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOneById(e);case 2:if(t.sent){t.next=5;break}return t.abrupt("return",{statusOk:!1,message:"We were unable to find a ".concat(this.recordName," with the id ").concat(e)});case 5:return t.prev=5,t.next=8,this.db.collection(this.collectionName).doc({id:e}).delete();case 8:return r=t.sent,t.next=11,this.getOneById(e);case 11:if(!t.sent){t.next=14;break}throw Error("A problem occured while deleting this data.");case 14:if(r.success){t.next=16;break}throw Error(r.message);case 16:return t.next=18,new Promise((function(t){var e=setInterval((function(){r&&(clearInterval(e),t())}),10)}));case 18:return t.abrupt("return",{statusOk:!0,message:"We have successfully deleted the ".concat(this.recordName," with an id of ").concat(e,". ").concat(r.message),result:r});case 21:return t.prev=21,t.t0=t.catch(5),t.abrupt("return",{statusOk:!1,message:t.t0.message});case 24:case"end":return t.stop()}}),t,this,[[5,21]])}))),function(t){return c.apply(this,arguments)})},{key:"deleteAllFilteredData",value:(i=u(s().mark((function t(e){var r,n,o=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAllFilteredData(e);case 2:if(r=t.sent,n=[],0!==r.length&&Array.isArray(r)){t.next=6;break}return t.abrupt("return",{statusOk:!1,message:"We were unable to find ".concat(this.recordName,"s that matches the filter. No ").concat(this.recordName,"s were deleted.")});case 6:return t.next=8,w(r,function(){var t=u(s().mark((function t(e){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.map((function(t){return u(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.delete(t.id);case 2:r=e.sent,n.push(r);case 4:case"end":return e.stop()}}),e)})))})),t.next=3,Promise.all(r.map((function(t){return t()})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),10);case 8:return t.abrupt("return",{statusOk:!0,deleteResults:n});case 9:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"deleteTableFromDb",value:(n=u(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.collection(this.collectionName).delete();case 2:return e=t.sent,t.abrupt("return",{statusOk:!0,deleteResult:e});case 4:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],r&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=x},3675:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var n=function(){function t(e){var r=e.localStorageKey,n=e.data,o=e.dataType;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.localStorageKey=r,this.data=n||null,this.dataType=o||"object",t.setGlobalStorageKeys()}var n,o,i;return n=t,i=[{key:"setGlobalStorageKeys",value:function(){var e=t.getFromStorage("___cc_globalStorageKeys");e?t.globalStorageKeys=e:t.saveToStorage("___cc_globalStorageKeys",[])}},{key:"addToGlobalStorageKeys",value:function(e){t.globalStorageKeys.includes(e)||(t.globalStorageKeys.push(e),t.saveToStorage("___cc_globalStorageKeys",t.globalStorageKeys,"object"))}},{key:"removeFromGlobalStorageKeys",value:function(e){t.globalStorageKeys.includes(e)&&(t.globalStorageKeys=t.globalStorageKeys.filter((function(t){return t!==e})),t.saveToStorage("___cc_globalStorageKeys",t.globalStorageKeys,"object"))}},{key:"saveToStorage",value:function(e,r,n){"string"===n?window.localStorage.setItem(e,r):window.localStorage.setItem(e,JSON.stringify(r)),t.addToGlobalStorageKeys(e)}},{key:"getFromStorage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"object",r=window.localStorage.getItem(t);return r?"string"===e?r:JSON.parse(r):null}},{key:"deleteFromStorage",value:function(e){window.localStorage.removeItem(e),t.removeFromGlobalStorageKeys(e)}},{key:"deleteAllFromStorage",value:function(){var r,n=function(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}(t.globalStorageKeys);try{for(n.s();!(r=n.n()).done;){var o=r.value;t.deleteFromStorage(o)}}catch(t){n.e(t)}finally{n.f()}t.globalStorageKeys=[],t.setGlobalStorageKeys()}},{key:"getTotalStorageSize",value:function(){var t=0,e=0;for(key in window.localStorage)if(window.localStorage.hasOwnProperty(key)){var r=2*(window.localStorage[key].length+key.length);e+=window.localStorage[key].length+key.length,t+=r,console.log(key.substr(0,50)+" = "+(r/1024).toFixed(2))}return{sizeInKb:t,sizeInMb:Number((t/1e3).toFixed(2)),strLength:e}}}],(o=[{key:"saveToStorage",value:function(){"string"===this.dataType?window.localStorage.setItem(this.localStorageKey,this.data):window.localStorage.setItem(this.localStorageKey,JSON.stringify(this.data)),t.addToGlobalStorageKeys(this.localStorageKey)}},{key:"getFromStorage",value:function(){var t=window.localStorage.getItem(this.localStorageKey);return t&&(this.data="string"===this.dataType?t:JSON.parse(t)),this.data}},{key:"deleteFromStorage",value:function(){window.localStorage.removeItem(this.localStorageKey),t.removeFromGlobalStorageKeys(this.localStorageKey)}}])&&r(n.prototype,o),i&&r(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}();!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(n,"globalStorageKeys",[]),t.exports=n},5486:(t,e,r)=>{var n=r(3675),o=r(2281);t.exports={CcLocalStorage:n,CcIndexedDb:o}},5199:(t,e,r)=>{function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=r(4731),u=c.generateUuid,l=c.toUrl,f=c.getValidatedPropValues,h=r(7650),d=function(){function t(e){var r=e.nameObject,n=e.channelMessaging,o=e.parentChannelId,i=e.parentChannelName;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.channelMessaging=n||!1,this.channelId=null,this.channelName=null,this.nameObject=r||{},this.channelObject=null,this.setChannelMessaging(),this.parentChannelId=o,this.parentChannelName=i,this.parentChannelMessaging=!1,this.parentChannelObject=null,this.browserId=null,this.setBrowserId(),this.setParentChannelMessaging()}var e,r;return e=t,(r=[{key:"setBrowserId",value:function(){var t=h.getBrowserId();this.browserId=t||f(window,["__cc_BrowserWindowId"])}},{key:"setChannelMessaging",value:function(){var t;this.channelMessaging&&(this.channelId=u(),this.channelName=l([].concat((t=Object.values(this.nameObject),function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[this.channelId]).join(" ")),this.channelObject=new BroadcastChannel(this.channelName))}},{key:"sendToChildren",value:function(t){this.channelMessaging&&this.channelObject.postMessage(o({channelId:this.channelId,channelName:this.channelName,from:"parent-channel"},t))}},{key:"onChildChannelMessage",value:function(t){this.channelObject.onmessage=function(e){t(e)}}},{key:"setParentChannelMessaging",value:function(){this.parentChannelId&&this.parentChannelName&&(this.parentChannelMessaging=!0,this.parentChannelObject=new BroadcastChannel(this.parentChannelName))}},{key:"sendToParentChannel",value:function(t){this.parentChannelMessaging&&this.parentChannelObject.postMessage(o({channelId:this.parentChannelId,browserId:this.browserId,channelName:this.parentChannelName,from:"child-channel"},t))}},{key:"onParentChannelMessage",value:function(t){this.parentChannelObject.onmessage=function(e){t(e)}}}])&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=d},8941:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){"use strict";o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function p(){}function y(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,a)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,c){var u=f(t[i],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,c)}),(function(t){o("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,c)}))}c(u.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=y,u(b,"constructor",y),u(y,"constructor",p),p.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),u(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=r(4731),h=f.generateUuid,d=f.waitForCondition,p=function(){function t(e){var r=e.encodedUrl,n=e.target,o=e.optionsObject,i=e.browserId;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.windowObject=null,this.encodedUrl=r||"",this.target=n||"",this.optionsObject=o||{width:1400,height:300,menubar:"no",resizable:"no"},this.windowOptions=null,this.browserId=i||h(),this.windowOptionString="",this.setWindowOptions(),t.addWindowObjects(this.browserId,opened=!1),t.setCurrentOpenedWindows()}var e,r,n,s,l;return e=t,r=[{key:"setWindowOptions",value:function(){var t=this;this.optionsObject=c(c({},this.optionsObject),this.getPositions()),this.windowOptionString=Object.keys(this.optionsObject).reduce((function(e,r){return e.push("".concat(r,"=").concat(t.optionsObject[r])),e}),[]).join(", "),this.windowOptions=[this.encodedUrl,this.target,this.windowOptionString]}},{key:"getPositions",value:function(){var e=t.windowObjects.length,r=t.maxOpenedWindows/t.allowedWindowsPerColumn,n=t.maxOpenedWindows/r,o=(window.outerWidth-this.optionsObject.width)/(n-1),i=e<n?e:e%n;return{top:(window.outerHeight-this.optionsObject.height)/(4*r)*(e<n?0:Math.floor(e/n))+200,left:o*i}}},{key:"open",value:(s=o().mark((function e(){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.currentOpenedWindows>=t.maxOpenedWindows)){e.next=5;break}return n={message:"we are currently waiting for other windows to finish",statusOk:!0,currentProcess:"Opening a new window/tab."},console.log(n),e.next=5,d({conditionCallback:function(){return t.currentOpenedWindows<t.maxOpenedWindows},onTrueCallback:function(){return console.log(n)},messageCallback:function(){return console.log(n)}});case 5:if(this.windowObject=(r=window).open.apply(r,function(t){if(Array.isArray(t))return i(t)}(o=this.windowOptions)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),!this.windowObject||this.windowObject.closed){e.next=13;break}return this.windowObject.__cc_BrowserWindowId=this.browserId,t.updateWindowObjects(this.browserId,!0),t.setCurrentOpenedWindows(),e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}var o}),e,this)})),l=function(){var t=this,e=arguments;return new Promise((function(r,n){var o=s.apply(t,e);function i(t){a(o,r,n,i,c,"next",t)}function c(t){a(o,r,n,i,c,"throw",t)}i(void 0)}))},function(){return l.apply(this,arguments)})},{key:"close",value:function(){return t.updateWindowObjects(this.browserId,!1),t.setCurrentOpenedWindows(),this.windowObject.close(),t.removeAllClosedWindowObject(),this.windowObject.closed}}],n=[{key:"setMaxOpenedWindows",value:function(e){"number"==typeof Number(e)&&(t.maxOpenedWindows=Number(e))}},{key:"getBrowserId",value:function(){return h()}},{key:"addWindowObjects",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.windowObjects.push({browserId:e,opened:r})}},{key:"updateWindowObjects",value:function(e,r){var n=t.windowObjects.find((function(t){return t.browserId===e}));n&&(n.opened=r)}},{key:"setCurrentOpenedWindows",value:function(){t.currentOpenedWindows=t.windowObjects.filter((function(t){return t.opened})).length}},{key:"removeAllClosedWindowObject",value:function(){t.windowObjects=t.windowObjects.filter((function(t){return t.opened}))}},{key:"redirectTo",value:function(t){window.location=t}}],r&&u(e.prototype,r),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();l(p,"windowObjects",[]),l(p,"currentOpenedWindows",0),l(p,"allowedWindowsPerRow",5),l(p,"allowedWindowsPerColumn",5),l(p,"maxOpenedWindows",10),window.CcBrowserWindow=p,t.exports=p},7650:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(){"use strict";a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function p(){}function y(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,c){var u=f(t[i],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,c)}),(function(t){o("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,c)}))}c(u.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=y,u(b,"constructor",y),u(y,"constructor",p),p.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),u(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function s(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var h=r(4731),d=h.ccEncodeObject,p=h.ccDecodeObject,y=h.queryStringToObject,v=h.objectToQueryString,m=h.getValidatedPropValues,g=function(){function t(e){var r=e.type,n=e.dataSource,o=e.scraperRunning,i=e.originalUrl,a=e.scraperOptions,s=e.callbacks,c=e.browserId;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=r,this.dataSource=n,this.scraperRunning=o||!1,this.originalUrl=i,this.scraperOptions=a,this.callbacks=Array.isArray(s)?s:[],this.scraperObject=null,this.ccScraperQueryKey="__cc-scraper-data",this.browserId=c}var e,r,n,o,c;return e=t,r=[{key:"executeCallbacks",value:(o=a().mark((function t(){var e,r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=s(this.callbacks),t.prev=1,e.s();case 3:if((r=e.n()).done){t.next=10;break}return n=r.value,console.log(n),t.next=8,this.scraperObject[n]();case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e.e(t.t0);case 15:return t.prev=15,e.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[1,12,15,18]])})),c=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function a(t){u(i,r,n,a,s,"next",t)}function s(t){u(i,r,n,a,s,"throw",t)}a(void 0)}))},function(){return c.apply(this,arguments)})},{key:"encodeProcessToUrl",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var n=["scraperObject","ccScraperQueryKey"],o=Object.keys(this).reduce((function(e,r){return n.includes(r)||(e[r]=t[r]),e}),{}),a=y(e,r),s=a.queryObject,c=a.urlWithoutQueryString,u=v(i(i({},s),{},f({},this.ccScraperQueryKey,d(o))));return"".concat(c,"?").concat(u)}return null}}],n=[{key:"decodeProcessFromUrl",value:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=y(e,r),o=n.queryObject,i=o[t.ccScraperQueryKey],a=i?p(i):null;return a}},{key:"getBrowserId",value:function(){var e=t.decodeProcessFromUrl(window.location.href);return m(e,["browserId"])}}],r&&l(e.prototype,r),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();f(g,"ccScraperQueryKey","__cc-scraper-data"),t.exports=g},4913:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){"use strict";o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function p(){}function y(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,a)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,c){var u=f(t[i],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,c)}),(function(t){o("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,c)}))}c(u.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=y,u(b,"constructor",y),u(y,"constructor",p),p.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),u(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function i(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=r(4731).zipData,c=function(){function t(e){var r=e.setData,n=e.productObjects,o=e.includeJson,i=e.imageNameObject,a=e.imagePropName,s=e.csvExcludedProps;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setData=r,this.productObjects=n||[],this.includeJson=o||!1,this.imageNameObject=i&&Object.keys(i).length?i:{shared:["productName"],split:[]},this.imagePropName=a||"productImage",this.csvExcludedProps=Array.isArray(s)&&s.length?s:["dateCreated","_id","__v","imagePaths","imageUris","multiFaced","productUri","setId"]}var e,r,n,c;return e=t,r=[{key:"downloadZippedFile",value:(n=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s({setData:this.setData,productObjects:this.productObjects,includeJson:this.includeJson,imageNameObject:this.imageNameObject,imagePropName:this.imagePropName,csvExcludedProps:this.csvExcludedProps});case 2:case"end":return t.stop()}}),t,this)})),c=function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function s(t){i(a,r,o,s,c,"next",t)}function c(t){i(a,r,o,s,c,"throw",t)}s(void 0)}))},function(){return c.apply(this,arguments)})}],r&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=c},4971:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){"use strict";o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function p(){}function y(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,a)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,c){var u=f(t[i],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,c)}),(function(t){o("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,c)}))}c(u.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=y,u(b,"constructor",y),u(y,"constructor",p),p.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),u(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function i(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function s(t){i(a,n,o,s,c,"next",t)}function c(t){i(a,n,o,s,c,"throw",t)}s(void 0)}))}}function s(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var p=r(5199),y=r(4731),v=y.generateUuid,m=y.toUrl,g=y.moderator,b=y.waitForSelector,w=y.getAllObjectKeys,x=y.waitForCondition,_=r(9779),O=_.categorizedSetsOfflineDb,S=(_.productsOfflineDb,r(7918)),k=(r(7918),function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(A,t);var e,r,n,i,u,p,y,_,k,j,P,E,I,C,D=(I=A,C=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(I);if(C){var r=d(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return h(this,t)});function A(t){var e,r=t.evaluatorObject,n=t.validDataProps,o=t.executeMultiProductsSetsInitializer,i=t.executeMultiSingleProductInitializer,a=t.addSetDataToProductProps,c=t.uniqueProductObjProp,u=t.productUriPropName,l=t.removeProductsWithoutUriPropName,f=t.callbacksOnDone,h=t.resultsObjectOptions,d=t.downloadZippedData,p=t.startingIndex;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,A),e=D.call(this,{callbacksOnDone:f,channelMessaging:!0}),!r)throw Error("This class constructor requires an evaluatorObject");return e.evaluatorObject=r,e.validDataProps=Array.isArray(n)?[].concat(s(n),["setId","url"]):["setId","url"],e.categorizedSets=[],e.categorizedSetsEvaluatorDone=!1,e.multiProductsSetsScraperDone=!1,e.multiSingleProductScraperDone=!1,e.executeMultiProductsSetsInitializer=o||!1,e.executeMultiSingleProductInitializer=i||!1,e.addSetDataToProductProps=a||!1,e.uniqueProductObjProp=c||"productUri",e.productUriPropName=u||"productUri",e.removeProductsWithoutUriPropName=l||!1,e.resultsObjectOptions=h&&Array.isArray(h)&&Object.keys(h).length?h:{},e.evaluatorIndex=0,e.callbacksOnDone=f,e.downloadZippedData=d,e.setValidDataProps(),e.setCategorizedSetsOfflineDb(),e.startingIndex=p||0,e}return e=A,r=[{key:"setCategorizedSetsOfflineDb",value:function(){O.addProps("uniqueProps","url"),O.addProps("immutableProps","url")}},{key:"setValidDataProps",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,o=e;n<o.length;n++){var i=o[n];this.validDataProps.includes(i)||this.validDataProps.push(i)}O.addProps.apply(O,["validDataProps"].concat(s(this.validDataProps)))}},{key:"saveCategorizedSetsToStorage",value:(E=a(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.createMultiple(this.categorizedSets);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return E.apply(this,arguments)})},{key:"updateCategorizedSetsFromStorage",value:(P=a(o().mark((function t(){var e,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.categorizedSets.map((function(t){return{id:t.id,data:Object.keys(t).filter((function(t){return"id"!==t})).reduce((function(e,r){return e[r]=t[r],e}),{})}})),t.next=3,O.updateMany(e);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)}))),function(){return P.apply(this,arguments)})},{key:"getCategorizedSetsFromStorage",value:(j=a(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.getAll();case 2:e=t.sent,this.categorizedSets=e.slice(this.startingIndex);case 4:case"end":return t.stop()}}),t,this)}))),function(){return j.apply(this,arguments)})},{key:"awaitSelectors",value:(k=a(o().mark((function t(e){var r,n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.waitForSelectors&&e.waitForSelectors.length){t.next=2;break}return t.abrupt("return");case 2:return this.sendToParentChannel({message:"Currently awaiting selectors or html elements to load on the page",status:"waiting",selectors:e.waitForSelectors}),r=[],t.next=6,g(e.waitForSelectors,function(){var t=a(o().mark((function t(e){var i,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.map((function(t){return a(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b((function(){return document.querySelector(t)}));case 2:r=e.sent,n.sendToParentChannel({statusOk:!!r,selector:t,message:r?'The HTML selector/element "'.concat(r.tagName,'" has successfully loaded!'):"The HTML selector/element didn't load successfully."});case 4:case"end":return e.stop()}}),e)})))})),t.next=3,Promise.all(i.map((function(t){return t()})));case 3:c=t.sent,r.push.apply(r,s(c));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.waitForSelectors.length);case 6:this.sendToParentChannel({message:"We have finished waiting for the selectors",statusOk:!0});case 7:case"end":return t.stop()}}),t,this)}))),function(t){return k.apply(this,arguments)})},{key:"addToCategorizedSets",value:function(t){var e,r=this,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=c(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(t);try{var o=function(){var t=e.value;r.categorizedSets.find((function(e){return e.url===t.url}))||(Object.assign(t,{setId:r.generateSetId(t)}),r.categorizedSets.push(t))};for(n.s();!(e=n.n()).done;)o()}catch(t){n.e(t)}finally{n.f()}}},{key:"generateSetId",value:function(t){return m([Object.values(t.setData),v()].join(" "))}},{key:"getCategorizedSetsByEvaluator",value:(_=a(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.callback();case 2:return r=t.sent,this.addToCategorizedSets(r),n=w(r),this.setValidDataProps.apply(this,s(n)),t.next=8,this.saveCategorizedSetsToStorage();case 8:return t.next=10,this.getCategorizedSets(!0);case 10:case"end":return t.stop()}}),t,this)}))),function(t){return _.apply(this,arguments)})},{key:"getCategorizedSets",value:(y=a(o().mark((function t(){var e,r,n=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.length>0&&void 0!==n[0]&&n[0]&&this.evaluatorIndex++,!(e=this.evaluatorObject.categorizedSets[this.evaluatorIndex])){t.next=11;break}return t.next=6,this.awaitSelectors(e);case 6:return t.next=8,this.getCategorizedSetsByEvaluator(e);case 8:return t.abrupt("return");case 11:this.categorizedSetsEvaluatorDone=!0;case 12:return t.next=14,this.getCategorizedSetsFromStorage();case 14:if(!(this.categorizedSetsEvaluatorDone&&this.executeMultiProductsSetsInitializer||this.categorizedSetsEvaluatorDone&&this.executeMultiSingleProductInitializer)){t.next=29;break}return t.next=17,this.instantiateMultiSetsScrapingObject();case 17:if(r=t.sent,console.log(this.categorizedSets),!this.executeMultiProductsSetsInitializer){t.next=25;break}return console.log("Multi- product sets"),t.next=23,this.initilizeMultiSetsScraping(r);case 23:t.next=29;break;case 25:if(this.executeMultiProductsSetsInitializer||!this.executeMultiSingleProductInitializer){t.next=29;break}return console.log("Multi- single product"),t.next=29,this.initializeMultiSingleProductScraping(r);case 29:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"instantiateMultiSetsScrapingObject",value:(p=a(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new S({categorizedSets:this.categorizedSets,evaluatorObject:this.evaluatorObject,executeSingleProductEvaluators:this.executeMultiSingleProductInitializer,addSetDataToProductProps:this.addSetDataToProductProps,uniqueProductObjProp:this.uniqueProductObjProp,productUriPropName:this.productUriPropName,removeProductsWithoutUriPropName:this.removeProductsWithoutUriPropName,callbacksOnDone:this.callbacksOnDone,downloadZippedData:this.downloadZippedData}),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"initilizeMultiSetsScraping",value:(u=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.scrapeAllProductSets();case 2:return t.next=4,e.checkScraperDone();case 4:return this.multiProductsSetsScraperDone=!0,t.next=7,this.checkScraperDone();case 7:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"initializeMultiSingleProductScraping",value:(i=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.allProductsSetScraperDone=!0,t.next=3,e.executeMultiSingleProductScraper();case 3:return t.next=5,e.checkScraperDone();case 5:return this.multiSingleProductScraperDone=!0,t.next=8,this.checkScraperDone();case 8:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"checkScraperDone",value:(n=a(o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x({conditionCallback:function(){return e.executeMultiProductsSetsInitializer?e.categorizedSetsEvaluatorDone&&e.multiProductsSetsScraperDone:!e.executeMultiProductsSetsInitializer&&e.executeMultiSingleProductInitializer&&e.multiSingleProductScraperDone?e.categorizedSetsEvaluatorDone&&e.multiSingleProductScraperDone:e.categorizedSetsEvaluatorDone},onTrueCallback:function(){console.log({message:"categorized-set-scraping done"})}});case 2:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})}],r&&l(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),A}(p));t.exports=k},7918:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(){"use strict";c=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function p(){}function y(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,c){var u=f(t[i],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,c)}),(function(t){o("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,c)}))}c(u.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=y,u(b,"constructor",y),u(y,"constructor",p),p.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),u(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function u(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function l(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){u(i,n,o,a,s,"next",t)}function s(t){u(i,n,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function d(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var y=r(5199),v=r(7650),m=r(8941),g=r(9444),b=r(5261),w=r(4913),x=r(4731),_=x.moderator,O=(x.slowDown,x.waitForCondition),S=r(9779).categorizedSetsOfflineDb,k=r(9779).productsOfflineDb,j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(C,t);var e,r,n,i,s,u,y,x,j,P,E,I=(P=C,E=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(P);if(E){var r=p(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return d(this,t)});function C(t){var e,r=t.categorizedSets,n=t.evaluatorObject,o=t.executeSingleProductEvaluators,i=t.addSetDataToProductProps,a=t.uniqueProductObjProp,s=t.productUriPropName,c=t.removeProductsWithoutUriPropName,u=t.callbacksOnDone,l=t.downloadZippedData;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,C),(e=I.call(this,{nameObject:{scrapingType:"categorized-set-scraping"},callbacksOnDone:u,channelMessaging:!0})).categorizedSets=r||[],e.evaluatorObject=n,e.executeSingleProductEvaluators=o||!1,e.uniqueProductObjProp=a||"productUri",e.productUriPropName=s||"productUri",e.removeProductsWithoutUriPropName=c||!1,e.addSetDataToProductProps=i||!1,e.allProductsSetScraperDone=!1,e.allSingleProductScraperDone=!1,e.resultsObjectOptions={},e.downloadZippedData=l,e.resultsObject=null,e.setResultsObject(),e}return e=C,r=[{key:"getCategorizedSetsFromStorage",value:(j=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.getAll();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return j.apply(this,arguments)})},{key:"setCategorizedSets",value:(x=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.categorizedSets.length){t.next=4;break}return t.next=3,this.getCategorizedSetsFromStorage();case 3:this.categorizedSets=t.sent;case 4:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)})},{key:"setResultsObjectOptions",value:function(t){Object.assign(this.resultsObjectOptions,t)}},{key:"setResultsObject",value:function(){Object.keys(this.resultsObjectOptions).length&&(this.resultsObject=new w(this.resultsObjectOptions))}},{key:"setProductSetScraperProcess",value:function(t,e){return new v({type:"set",dataSource:this.evaluatorObject.set[0].dataSource,scraperRunning:!0,originalUrl:t.url,browserId:e,scraperOptions:{categorizedSet:t,setData:t.setData,setId:t.setId,evaluatorObject:this.evaluatorObject,executeSingleProductEvaluators:!1,parentChannelId:this.channelId,parentChannelName:this.channelName,uniqueProductObjProp:this.uniqueProductObjProp,productUrlPropName:this.productUrlPropName,removeProductsWithoutUriPropName:this.removeProductsWithoutUriPropName,callbacksOnDone:[],addSetDataToProductProps:this.addSetDataToProductProps},callbacks:["awaitSelectors","getProductObjects","checkScraperDone"]})}},{key:"firedScrapingEvents",value:function(t){var e=this;this.onChildChannelMessage((function(r){var n=r.data,o=n.type;if("waiting-for-selectors"===o){var i=n.setId,s=n.setData,c=n.browserId,u=n.message,l=n.selectors;e.categorizedSets.find((function(t){return t.setId===i}))&&console.log({type:o,setId:i,setData:s,browserId:c,message:u,selectors:l})}if("finish-waiting-for-selectors"===o){var f=n.setId,h=n.setData,d=n.browserId,p=n.message,y=n.status;e.categorizedSets.find((function(t){return t.setId===f}))&&console.log({type:o,setId:f,setData:h,browserId:d,message:p,status:y})}if("scraping-page-done"===o){var v=n.setId,g=n.setData,b=n.browserId,w=n.totalProductsScraped,x=n.nextPage,_=n.productObjects,O=n.message;if(e.categorizedSets.find((function(t){return t.setId===v}))){t.totalProductObjects+=w,console.table(_),console.log({type:o,setId:v,setData:g,browserId:b,totalProductsScraped:w,nextPage:x,message:O});var S=t.ccBrowserWindowObjectsArr.map((function(t){return t.browserId}));foundId=S.find((function(t){return t===b})),console.log({storedBrowserIds:S,foundId})}}if("execution-of-next-evaluator"===o){var k=n.setId,j=n.setData,P=n.browserId,E=n.message;e.categorizedSets.find((function(t){return t.setId===k}))&&console.log({type:o,setId:k,setData:j,browserId:P,message:E})}if("all-scraper-done"===o){var I=n.type,C=n.setId,D=n.setData,A=n.browserId,N=n.message;if(e.categorizedSets.find((function(t){return t.setId===C}))){t.updatedCategorizedSets++,console.log(a({type:I,setId:C,setData:D,browserId:A,message:N},t));var L=t.ccBrowserWindowObjectsArr.find((function(t){return t.browserId===A}));L&&(L.close(),m.removeAllClosedWindowObject(),e.allProductsSetScraperDone=!0)}}}))}},{key:"getBrowserWindowCallback",value:function(t,e){var r=this;return l(c().mark((function n(){var o,i,a,s;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=m.getBrowserId(),i=r.setProductSetScraperProcess(t,o),a=i.encodeProcessToUrl(t.url,!1),s=new m({encodedUrl:a,target:"_blank",browserId:o}),console.log({ccBrowserWindowObject:s,currentProcess:i,encodedUrl:a}),n.next=4,s.open();case 4:return n.next=6,O({conditionCallback:function(){return s.windowObject&&!s.windowObject.closed},onTrueCallback:function(){console.log("window is open.")},messageCallback:function(){console.log("waiting for window to open")}});case 6:if(!s.windowObject){n.next=11;break}return e.ccBrowserWindowObjectsArr.push(s),console.log({childChannelId:i.scraperOptions.parentChannelId,setChannelId:r.channelId,sameChannel:i.scraperOptions.parentChannelId===r.channelId}),n.next=11,O({conditionCallback:function(){return s.windowObject.closed},onTrueCallback:function(){console.log({setData:t.setData,message:"waiting for window to close"})},messageCallback:function(){console.log({setData:t.setData,message:"waiting for window to close"})}});case 11:case"end":return n.stop()}}),n)})))}},{key:"scrapeByAPI",value:(y=l(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={evaluatorObject:this.evaluatorObject,executeSingleProductEvaluators:!1,uniqueProductObjProp:this.uniqueProductObjProp,productUriPropName:this.productUriPropName,removeProductsWithoutUriPropName:this.removeProductsWithoutUriPropName,callbacksOnDone:[],addSetDataToProductProps:this.addSetDataToProductProps},t.next=3,_(this.categorizedSets,function(){var t=l(c().mark((function t(r){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.map((function(t){return l(c().mark((function r(){var n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),n=new b(a({categorizedSet:t,setData:t.setData,setId:t.setId},e)),r.next=4,n.awaitSelectors();case 4:return r.next=6,n.getProductObjects();case 6:return r.next=8,n.checkScraperDone();case 8:case"end":return r.stop()}}),r)})))})),t.next=3,Promise.all(n.map((function(t){return t()})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),1);case 3:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"scrapeFromPage",value:(u=l(c().mark((function t(){var e,r=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={ccBrowserWindowObjectsArr:[],updatedCategorizedSets:0,totalProductObjects:0},this.firedScrapingEvents(e),t.next=4,_(this.categorizedSets,function(){var t=l(c().mark((function t(n){var o,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.clear(),o=e.updatedCategorizedSets,i=n.map((function(t,n){return r.getBrowserWindowCallback(t,e)})),t.next=4,Promise.all(i.map((function(t){return t()})));case 4:return t.next=6,O({conditionCallback:function(){return e.updatedCategorizedSets-o===n.length},onTrueCallback:function(){console.log({startingIndex:o,updatedSlice:e.updatedCategorizedSets-o,slicedArrTotal:n.length,matched:n.length===e.updatedCategorizedSets-o})},messageCallback:function(){console.log({startingIndex:o,updatedSlice:e.updatedCategorizedSets-o,slicedArrTotal:n.length,matched:n.length===e.updatedCategorizedSets-o})}});case 6:e.ccBrowserWindowObjectsArr=[];case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m.maxOpenedWindows);case 4:return t.next=6,O({conditionCallback:function(){return e.updatedCategorizedSets===r.categorizedSets.length},onTrueCallback:function(){console.log({updatedCategorizedSets:e.updatedCategorizedSets,totalProductObjects:r.categorizedSets.length,matched:e.updatedCategorizedSets===r.categorizedSets.length})},messageCallback:function(){console.log({updatedCategorizedSets:e.updatedCategorizedSets,totalProductObjects:r.categorizedSets.length,matched:e.updatedCategorizedSets===r.categorizedSets.length})}});case 6:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"scrapeAllProductSets",value:(s=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.allProductsSetScraperDone){t.next=11;break}return t.next=3,this.getCategorizedSetsFromStorage();case 3:if("on-page"!==this.evaluatorObject.set[0].dataSource){t.next=8;break}return t.next=6,this.scrapeFromPage();case 6:t.next=11;break;case 8:if("api"!==this.evaluatorObject.set[0].dataSource){t.next=11;break}return t.next=11,this.scrapeByAPI();case 11:if(!this.executeSingleProductEvaluators||!this.allProductsSetScraperDone){t.next=14;break}return t.next=14,this.executeMultiSingleProductScraper();case 14:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"executeMultiSingleProductScraper",value:(i=l(c().mark((function t(){var e,r=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.clear(),e=0,t.next=4,_(this.categorizedSets,function(){var t=l(c().mark((function t(n){var i,s,u,l,f,h;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=1,i=function(t){if(Array.isArray(t))return t}(c=n)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(c,d)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(c,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=i[0],u=s.setId,l=s.setData,t.next=6,k.getAllFilteredData(a({setId:u},l));case 6:return f=t.sent,console.log({productObjects:f,setId:u,setData:l,categorizedSet:s}),h=new g({setData:l,evaluatorObject:r.evaluatorObject,setId:u,productObjects:f,uniqueProductObjProp:r.uniqueProductObjProp,productUriPropName:r.productUriPropName,addSetDataToProductProps:r.addSetDataToProductProps}),t.next=11,h.getSingleProductData();case 11:return t.next=13,h.checkScraperDone();case 13:if(e++,!r.downloadZippedData){t.next=19;break}return r.setResultsObjectOptions({setData:l,productObjects:f,includeJson:!0}),r.setResultsObject(),t.next=19,r.resultsObject.downloadZippedFile();case 19:case"end":return t.stop()}var c,d}),t)})));return function(e){return t.apply(this,arguments)}}(),1);case 4:return t.next=6,O({conditionCallback:function(){return e===r.categorizedSets.length},onTrueCallback:function(){r.allSingleProductScraperDone=!0}});case 6:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"checkScraperDone",value:(n=l(c().mark((function t(){var e=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O({conditionCallback:function(){return e.executeSingleProductEvaluators?e.allProductsSetScraperDone&&e.allSingleProductScraperDone:e.allProductsSetScraperDone},onTrueCallback:function(){console.log("multi-product-set scraping done")}});case 2:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})}],r&&f(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),C}(y);t.exports=j},9444:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(){"use strict";s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function p(){}function y(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,c){var u=f(t[i],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,c)}),(function(t){o("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,c)}))}c(u.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=y,u(b,"constructor",y),u(y,"constructor",p),p.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),u(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function c(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){c(i,n,o,a,s,"next",t)}function s(t){c(i,n,o,a,s,"throw",t)}a(void 0)}))}}function l(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function p(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var m=r(7650),g=r(5199),b=r(8941),w=r(4731),x=w.generateUuid,_=w.toUrl,O=w.moderator,S=w.getValidatedPropValues,k=w.getAllObjectKeys,j=w.waitForCondition,P=r(9779).productsOfflineDb,E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(E,t);var e,r,n,o,a,c,f,g,w=(f=E,g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(f);if(g){var r=v(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return p(this,t)});function E(t){var e,r,n=t.setData,o=t.evaluatorObject,i=t.setId,a=t.productObjects,s=t.singleProductEvaluatorIndex,c=t.uniqueProductObjProp,u=t.productUriPropName,f=t.addSetDataToProductProps,h=t.validDataProps;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,E),n||(n={}),(r=w.call(this,{nameObject:n,channelMessaging:!0})).evaluatorObject=o,r.setData=Object.keys(n).length?n:{},r.singleProductEvaluatorIndex=s||0,r.productObjects=Array.isArray(a)?a:[],r.uniqueProductObjProp=c||"productUri",r.productUriPropName=u||"productUri",r.addSetDataToProductProps=f||!1,r.setId=i||_([].concat(l(Object.values(r.setData)),[x()]).join("")),r.validDataProps=["setId"].concat(l(Object.keys(r.setData))),Array.isArray(h)||(h=[]),(e=r).setValidDataProps.apply(e,l(h)),r.setproductsOffLineDbConfig(),r.singleProductEvaluationDone=!1,console.log(y(r)),r}return e=E,r=[{key:"setproductsOffLineDbConfig",value:function(){P.addProps("uniqueProps",this.uniqueProductObjProp),P.addProps("immutableProps",this.productUriPropName)}},{key:"setValidDataProps",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,o=e;n<o.length;n++){var i=o[n];this.validDataProps.includes(i)||this.validDataProps.push(i)}P.addProps.apply(P,["validDataProps"].concat(l(this.validDataProps)))}},{key:"updateProductObjectsFromStorage",value:(c=u(s().mark((function t(){var e,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.productObjects.map((function(t){return{id:t.id,data:Object.keys(t).filter((function(t){return"id"!==t})).reduce((function(e,r){return e[r]=t[r],e}),{})}})),t.next=3,P.updateMany(e);case 3:return r=t.sent,console.table(r),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getEvaluatorDataSourceForSingleProduct",value:function(){var t=this.evaluatorObject.single[this.singleProductEvaluatorIndex];return S(t,["type"])?t.type:"on-page"}},{key:"setCurrentProcessForSingleProduct",value:function(t,e){return new m({type:"single",dataSource:this.getEvaluatorDataSourceForSingleProduct(),scraperRunning:!0,originalUrl:t[this.productUriPropName],browserId:e,scraperOptions:{productObject:t,evaluatorIndex:this.singleProductEvaluatorIndex,parentChannelId:this.channelId,parentChannelName:this.channelName,callbacksOnDone:[],additionalProductObjectProps:this.addSetDataToProductProps?i({setId:this.setId},this.setData):{setId:this.setId}},callbacks:["awaitSelectors","scrapeData"]})}},{key:"firedScrapingEvents",value:function(t){var e=this;this.onChildChannelMessage((function(r){var n=r.data;if("scraping-done"===n.type){var o=n.data,i=n.browserId,a=e.productObjects.find((function(t){return t[e.uniqueProductObjProp]===o[e.uniqueProductObjProp]})),s=Object.keys(o);if(e.setValidDataProps.apply(e,s),a&&o){Object.assign(a,o),t.updatedProductObjects++;var c=t.ccBrowserWindowObjectsArr.find((function(t){return t.browserId===i}));c&&(c.close(),b.removeAllClosedWindowObject())}}}))}},{key:"getBrowserWindowCallback",value:function(t,e){var r=this;return u(s().mark((function n(){var o,i,a,c;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=b.getBrowserId(),i=r.setCurrentProcessForSingleProduct(t,o),a=i.encodeProcessToUrl(t[r.productUriPropName],!1),c=new b({encodedUrl:a,target:"_blank",browserId:o}),n.next=3,c.open();case 3:j({conditionCallback:function(){return c.windowObject&&!c.windowObject.closed},onTrueCallback:function(){console.log("window is now open.")},messageCallback:function(){console.log("waiting for window to open")}}),c.windowObject&&(e.ccBrowserWindowObjectsArr.push(c),console.log({childChannelId:i.scraperOptions.parentChannelId,setChannelId:r.channelId,sameChannel:i.scraperOptions.parentChannelId===r.channelId}),j({conditionCallback:function(){return c.windowObject.closed},onTrueCallback:function(){console.log("window is now closed.")},messageCallback:function(){console.log("waiting for window to close")}}));case 5:case"end":return n.stop()}}),n)})))}},{key:"executeSingleProductEvaluator",value:(a=u(s().mark((function t(e){var r,n=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("on-page"!==e.dataSource){t.next=9;break}return r={ccBrowserWindowObjectsArr:[],updatedProductObjects:0},this.firedScrapingEvents(r),t.next=5,O(this.productObjects,function(){var t=u(s().mark((function t(e){var o,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.updatedProductObjects,i=e.map((function(t,e){return n.getBrowserWindowCallback(t,r)})),t.next=3,Promise.all(i.map((function(t){return t()})));case 3:return t.next=5,j({conditionCallback:function(){return r.updatedProductObjects-o===e.length},onTrueCallback:function(){console.log({startingIndex:o,updatedSlice:r.updatedProductObjects-o,slicedArrTotal:e.length,matched:e.length===r.updatedProductObjects-o})},messageCallback:function(){console.log({startingIndex:o,updatedSlice:r.updatedProductObjects-o,slicedArrTotal:e.length,matched:e.length===r.updatedProductObjects-o})}});case 5:r.ccBrowserWindowObjectsArr=[],console.log(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b.maxOpenedWindows);case 5:return t.next=7,j({conditionCallback:function(){return r.updatedProductObjects===n.productObjects.length},onTrueCallback:function(){console.log({updatedProductObjects:r.updatedProductObjects,totalProductObjects:n.productObjects.length,matched:r.updatedProductObjects===n.productObjects.length})},messageCallback:function(){console.log({updatedProductObjects:r.updatedProductObjects,totalProductObjects:n.productObjects.length,matched:r.updatedProductObjects===n.productObjects.length})}});case 7:t.next=12;break;case 9:if("api"!==e.dataSource){t.next=12;break}return t.next=12,O(this.productObjects,function(){var t=u(s().mark((function t(r){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.map((function(t){return u(s().mark((function r(){var n,o;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.callback(t);case 3:n=r.sent,o=k([n]),this.setValidDataProps.apply(this,l(o)),Object.assign(t,n),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0.message);case 12:case"end":return r.stop()}}),r,this,[[0,9]])})))})),t.next=3,Promise.all(n.map((function(t){return t()})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),10);case 12:return t.next=14,this.getSingleProductData(!0);case 14:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"getSingleProductEvaluator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.singleProductEvaluatorIndex++,this.evaluatorObject.single[this.singleProductEvaluatorIndex]}},{key:"getSingleProductData",value:(o=u(s().mark((function t(){var e,r,n=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.length>0&&void 0!==n[0]&&n[0],this.sendToParentChannel({message:"We are executing all single product evaluators from here",statusOk:!0}),console.clear(),!(r=this.getSingleProductEvaluator(e))){t.next=9;break}return t.next=7,this.executeSingleProductEvaluator(r);case 7:t.next=12;break;case 9:return this.singleProductEvaluationDone=!0,t.next=12,this.updateProductObjectsFromStorage();case 12:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"checkScraperDone",value:(n=u(s().mark((function t(){var e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j({conditionCallback:function(){return e.singleProductEvaluationDone},onTrueCallback:function(){console.log("scraping is done...")},messageCallback:function(){console.log("scraping is done...")}});case 2:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})}],r&&h(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),E}(g);t.exports=E},5261:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=h(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function c(){"use strict";c=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function p(){}function y(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,c){var u=f(t[i],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,c)}),(function(t){o("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,c)}))}c(u.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=y,u(b,"constructor",y),u(y,"constructor",p),p.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),u(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function u(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function l(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){u(i,n,o,a,s,"next",t)}function s(t){u(i,n,o,a,s,"throw",t)}a(void 0)}))}}function f(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function v(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var g=r(7650),b=r(5199),w=r(9444),x=r(4731),_=x.generateUuid,O=x.slowDown,S=x.toUrl,k=x.waitForCondition,j=x.moderator,P=(x.isObjectInArray,x.waitForSelector),E=x.getValidatedPropValues,I=x.getAllObjectKeys,C=r(9779).productsOfflineDb,D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(W,t);var e,r,n,o,a,u,h,d,b,x,D,A,N,L,T,z,B,R,F,U=(R=W,F=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(R);if(F){var r=m(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return v(this,t)});function W(t){var e,r,n=t.categorizedSet,o=t.setData,i=t.evaluatorObject,a=t.setId,s=t.productsSetEvaluatorIndex,c=t.singleProductEvaluatorIndex,u=t.executeSingleProductEvaluators,l=t.uniqueProductObjProp,h=t.productUriPropName,d=t.removeProductsWithoutUriPropName,p=t.parentChannelName,y=t.parentChannelId,v=t.callbacksOnDone,m=t.addSetDataToProductProps,g=t.validDataProps;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,W),(r=U.call(this,{parentChannelName:p,parentChannelId:y,callbacksOnDone:v,nameObject:o,channelMessaging:!0})).categorizedSet=n,r.evaluatorObject=i,r.setData=Object.keys(o).length?o:{},r.productObjects=[],r.uniqueProductObjProp=l||"productUri",r.productUriPropName=h||"productUri",r.removeProductsWithoutUriPropName=d||!1,r.executeSingleProductEvaluators=u,r.excutableMethodsByParent=["awaitSelectors","closeWindowTab","getProductObjects","checkScraperDone"],r.productsSetEvaluatorIndex=s||0,r.singleProductEvaluatorIndex=c||0,r.setId=a||S([].concat(f(Object.values(r.setData)),[_()]).join("")),r.allProductsSetEvaluatorsDone=!1,r.singleProductEvaluationDone=!1,r.addSetDataToProductProps=m||!1,r.validDataProps=["setId"].concat(f(Object.keys(r.setData))),r.localStorageKey=r.setId,Array.isArray(g)||(g=[]),(e=r).setValidDataProps.apply(e,f(g)),r.setproductsOffLineDbConfig(),r}return e=W,r=[{key:"setproductsOffLineDbConfig",value:function(){C.addProps("uniqueProps",this.uniqueProductObjProp),C.addProps("immutableProps",this.productUriPropName)}},{key:"setValidDataProps",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,o=e;n<o.length;n++){var i=o[n];this.validDataProps.includes(i)||this.validDataProps.push(i)}C.addProps.apply(C,["validDataProps"].concat(f(this.validDataProps)))}},{key:"saveProductObjectsToStorage",value:(B=l(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.createMultiple(this.productObjects);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return B.apply(this,arguments)})},{key:"updateProductObjectsFromStorage",value:(z=l(c().mark((function t(){var e,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.productObjects.map((function(t){return{id:t.id,data:Object.keys(t).filter((function(t){return"id"!==t})).reduce((function(e,r){return e[r]=t[r],e}),{})}})),t.next=3,C.updateMany(e);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)}))),function(){return z.apply(this,arguments)})},{key:"getProductObjectsFromStorage",value:(T=l(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.getAllFilteredData({setId:this.setId});case 2:e=t.sent,this.productObjects=e;case 5:case"end":return t.stop()}}),t,this)}))),function(){return T.apply(this,arguments)})},{key:"executeByParentChannelCommand",value:(L=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.excutableMethodsByParent.includes(e)){t.next=4;break}return t.next=3,this[e]();case 3:this.parentChannelObject.onmessage=t.sent;case 4:case"end":return t.stop()}}),t,this)}))),function(t){return L.apply(this,arguments)})},{key:"awaitSelectors",value:(N=l(c().mark((function t(e){var r,n=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.waitForSelectors&&e.waitForSelectors.length){t.next=2;break}return t.abrupt("return");case 2:return this.sendToParentChannel({message:"Currently awaiting selectors or html elements to load on the page",status:"waiting",selectors:e.waitForSelectors,type:"waiting-for-selectors",setId:this.setId,setData:this.setData}),r=[],t.next=6,j(e.waitForSelectors,function(){var t=l(c().mark((function t(e){var o,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.map((function(t){return l(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P((function(){return document.querySelector(t)}));case 2:r=e.sent,n.sendToParentChannel({statusOk:!!r,selector:t,message:r?'The HTML selector/element "'.concat(r.tagName,'" has successfully loaded!'):"The HTML selector/element didn't load successfully.",type:"waiting-for-selectors",setId:n.setId,setData:n.setData});case 4:case"end":return e.stop()}}),e)})))})),t.next=3,Promise.all(o.map((function(t){return t()})));case 3:i=t.sent,r.push.apply(r,f(i));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.waitForSelectors.length);case 6:this.sendToParentChannel({message:"We have finished waiting for the selectors",statusOk:!0,type:"finish-waiting-for-selectors",setId:this.setId,setData:this.setData});case 7:case"end":return t.stop()}}),t,this)}))),function(t){return N.apply(this,arguments)})},{key:"closeWindowTab",value:(A=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.sendToParentChannel({message:"We are closing this Single Product Scraper window.",statusOk:!0,setId:this.setId,setData:this.setData}),this.channelObject.close(),window.close();case 3:case"end":return t.stop()}}),t,this)}))),function(){return A.apply(this,arguments)})},{key:"addToProductObjects",value:function(t){var e,r=this,n=s(t);try{var o=function(){var t=e.value;r.addSetDataToProductProps&&Object.assign(t,i(i({},r.setData),{},{setId:r.setId})),r.productObjects.find((function(e){return e[r.uniqueProductObjProp]===t[r.uniqueProductObjProp]}))||r.productObjects.push(t)};for(n.s();!(e=n.n()).done;)o()}catch(t){n.e(t)}finally{n.f()}}},{key:"updateProductObjects",value:(D=l(c().mark((function t(e){var r,n,o,a=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=s(e);try{for(o=function(){var t=n.value;a.addSetDataToProductProps&&Object.assign(t,i(i({},a.setData),{},{setId:a.setId}));var e=a.productObjects.find((function(e){return e[a.uniqueProductObjProp]===t[a.uniqueProductObjProp]}));e&&Object.assign(e,t)},r.s();!(n=r.n()).done;)o()}catch(t){r.e(t)}finally{r.f()}case 2:case"end":return t.stop()}}),t)}))),function(t){return D.apply(this,arguments)})},{key:"getProductObjectsByEvaluator",value:(x=l(c().mark((function t(e){var r,n,o,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.sendToParentChannel({message:"We are initializing the scraping of this single product.",statusOk:!0,setId:this.setId,setData:this.setData}),"on-page"!==e.dataSource){t.next=7;break}return t.next=4,this.getProductObjectsFromPage(e);case 4:r=t.sent,t.next=17;break;case 7:if("api"!==e.dataSource){t.next=13;break}return t.next=10,this.getProductObjectsFromAPI(e);case 10:r=t.sent,t.next=17;break;case 13:if("spa"!==e.dataSource){t.next=17;break}return t.next=16,this.getProductObjectsFromSPA(e);case 16:r=t.sent;case 17:if(o=(n=r).productObjects,i=n.newUrl,validProps=I(o),0!==this.productsSetEvaluatorIndex){t.next=26;break}return this.addToProductObjects(o),this.setValidDataProps.apply(this,f(validProps)),t.next=24,this.saveProductObjectsToStorage();case 24:t.next=32;break;case 26:return t.next=28,this.getProductObjectsFromStorage();case 28:return this.updateProductObjects(o),this.setValidDataProps.apply(this,f(validProps)),t.next=32,this.updateProductObjectsFromStorage();case 32:return t.next=34,O(2525);case 34:i?this.getProductsFromNewUrl(e,i):this.executeNextProductsSetEvaluator();case 35:case"end":return t.stop()}}),t,this)}))),function(t){return x.apply(this,arguments)})},{key:"getEvaluatorDataSourceForProductsSet",value:function(){var t=this.evaluatorObject.set[this.productsSetEvaluatorIndex];return E(t,["dataSource"])?t.dataSource:"on-page"}},{key:"setCurrentProcessForProductsSet",value:function(t){return new g({type:"set",dataSource:this.getEvaluatorDataSourceForProductsSet(),scraperRunning:!0,originalUrl:t,browserId:g.getBrowserId(),scraperOptions:{categorizedSet:this.categorizedSet,setData:this.setData,setId:this.setId,evaluatorObject:this.evaluatorObject,productsSetEvaluatorIndex:this.productsSetEvaluatorIndex,singleProductEvaluatorIndex:this.singleProductEvaluatorIndex,executeSingleProductEvaluators:this.executeSingleProductEvaluators,removeProductsWithoutUriPropName:this.removeProductsWithoutUriPropName,uniqueProductObjProp:this.uniqueProductObjProp,productUriPropName:this.productUriPropName,parentChannelName:this.parentChannelName,parentChannelId:this.parentChannelId,callbacksOnDone:this.callbacksOnDone,addSetDataToProductProps:this.addSetDataToProductProps,validDataProps:this.validDataProps},callbacks:["awaitSelectors","getProductObjects","checkScraperDone"]})}},{key:"getProductsFromNewUrl",value:function(t,e){var r=this.setCurrentProcessForProductsSet(e).encodeProcessToUrl(e,!1);this.sendToParentChannel({message:"We are still getting the products from the set, and we are about to get more products from another url",url:r,statusOk:!0,setId:this.setId,setData:this.setData}),window.location=r}},{key:"executeNextProductsSetEvaluator",value:(b=l(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.productsSetEvaluatorIndex++,!(e=this.evaluatorObject.set[this.productsSetEvaluatorIndex])){t.next=11;break}if(this.sendToParentChannel({setId:this.setId,setData:this.setData,type:"execution-of-next-evaluator",message:"We are now executing the next evaluator for this set",statusOk:!0}),"api"!==e.dataSource&&"spa"!==e.dataSource){t.next=9;break}return t.next=7,this.getProductObjectsFromStorage();case 7:return t.next=9,this.getProductObjectsByEvaluator(e);case 9:t.next=14;break;case 11:return this.allProductsSetEvaluatorsDone=!0,t.next=14,this.getProductObjects();case 14:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"filterProductsWithoutUri",value:function(){var t=this;this.removeProductsWithoutUriPropName&&(this.productObjects=this.productObjects.filter((function(e){return e[t.productUriPropName]})))}},{key:"getArgumentsByPropKeys",value:function(t){var e=this;return t.args&&Array.isArray(t.args)?t.args.map((function(t){return e[t]})):[]}},{key:"getProductObjectsFromPage",value:(d=l(c().mark((function t(e){var r,n,o,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.getArgumentsByPropKeys(e),t.next=3,e.callback.apply(e,f(r));case 3:return n=t.sent,o=n.productObjects,i=n.newUrl,this.sendToParentChannel({setId:this.setId,setData:this.setData,type:"scraping-page-done",totalProductsScraped:o.length,productObjects:o,nextPage:i,message:"Scraping of data is done",statusOk:!0}),t.abrupt("return",{productObjects:o,newUrl:i});case 8:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"getProductObjectsFromAPI",value:(h=l(c().mark((function t(e){var r,n,o,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.getArgumentsByPropKeys(e),t.next=3,e.callback.apply(e,f(r));case 3:return n=t.sent,o=n.productObjects,i=n.newUrl,console.log({setId:this.setId,setData:this.setData,type:"scraping-page-done",totalProductsScraped:o.length,productObjects:o,nextPage:i,message:"Scraping of data is done",statusOk:!0}),t.abrupt("return",{productObjects:o,newUrl:i});case 8:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"getProductObjectsFromSPA",value:(u=l(c().mark((function t(e){var r,n,o,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.getArgumentsByPropKeys(e),t.next=3,e.callback.apply(e,f(r));case 3:return n=t.sent,o=n.productObjects,i=n.newUrl,t.abrupt("return",{productObjects:o,newUrl:i});case 7:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"getProductObjects",value:(a=l(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.evaluatorObject.set[this.productsSetEvaluatorIndex])){t.next=6;break}return t.next=4,this.awaitSelectors(e);case 4:return t.next=6,this.getProductObjectsByEvaluator(e);case 6:if(!this.allProductsSetEvaluatorsDone){t.next=11;break}return t.next=9,this.getProductObjectsFromStorage();case 9:this.filterProductsWithoutUri(),this.sendToParentChannel({setId:this.setId,setData:this.setData,message:"We have finished executing the product set evaluators",productObjects:this.productObjects,type:"product-set-scraping-done",statusOk:!0});case 11:if(!this.allProductsSetEvaluatorsDone||!this.executeSingleProductEvaluators){t.next=14;break}return t.next=14,this.getSingleProductData();case 14:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"checkScraperDone",value:(o=l(c().mark((function t(){var e=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k({conditionCallback:function(){return e.executeSingleProductEvaluators?e.singleProductEvaluationDone&&e.allProductsSetEvaluatorsDone:e.allProductsSetEvaluatorsDone},onTrueCallback:function(){e.sendToParentChannel({setId:e.setId,setData:e.setData,type:"all-scraper-done",message:"Scraping of data is done",statusOk:!0}),console.log("scraping is done..."),console.clear()},messageCallback:function(){console.log({message:"scraping-process for product-sets is still ongoing...",setId:e.setId,setData:e.setData})}});case 2:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"getSingleProductData",value:(n=l(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.sendToParentChannel({message:"We have started executing all the single product evaluators.",type:"single-product-scraping-started",productObjects:this.productObjects,statusOk:!0,setId:this.setId,setData:this.setData}),t.next=3,this.getProductObjectsFromStorage();case 3:return e=new w({setData:this.setData,evaluatorObject:this.evaluatorObject,setId:this.setId,productObjects:this.productObjects,uniqueProductObjProp:this.uniqueProductObjProp,productUriPropName:this.productUriPropName,addSetDataToProductProps:this.addSetDataToProductProps,validDataProps:this.validDataProps}),t.next=6,e.getSingleProductData();case 6:return t.next=8,e.checkScraperDone();case 8:console.log({message:"We have executed all the single product evaluators.",type:"single-product-scraping-done",productObjects:this.productObjects,statusOk:!0}),this.singleProductEvaluationDone=!0,this.sendToParentChannel({message:"We have executed all the single product evaluators.",type:"single-product-scraping-done",productObjects:this.productObjects,statusOk:!0,setId:this.setId,setData:this.setData});case 11:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],r&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),W}(b);t.exports=D},5131:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(){"use strict";i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function p(){}function y(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,a)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,c){var u=f(t[i],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,c)}),(function(t){o("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,c)}))}c(u.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=y,u(b,"constructor",y),u(y,"constructor",p),p.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),u(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function a(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function s(t){a(i,n,o,s,c,"next",t)}function c(t){a(i,n,o,s,c,"throw",t)}s(void 0)}))}}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function l(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return f(t)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var d=r(4731),p=d.waitForSelector,y=d.moderator,v=d.getValidatedPropValues,m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(_,t);var e,r,n,a,d,m,g,b,w,x=(b=_,w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(b);if(w){var r=h(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return l(this,t)});function _(t){var e,r=t.productObject,n=t.evaluator,o=t.evaluatorIndex,i=t.followPropsFromProductObject,a=t.callbacksOnDone,s=t.parentChannelName,c=t.parentChannelId,u=t.excludedProps,l=t.additionalProductObjectProps;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_),(e=x.call(this,{parentChannelName:s,parentChannelId:c})).evaluatorIndex=o,e.productObject=r,e.evaluator=n||null,e.followPropsFromProductObject=i||!1,e.callbacksOnDone=Array.isArray(a)?a:[],e.excutableMethodsByParent=["awaitSelectors","closeWindowTab","scrapeData","initializeScraping","checkScraperDone"],e.excludedProps=Array.isArray(u)?u:[],e.additionalProductObjectProps=l||{},e.setEvaluator(),console.log(f(e)),e}return e=_,r=[{key:"setEvaluator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=v(window,["___cc__CcScraperGlobalObject","evaluatorObject"]);t?this.evaluator=t:e&&Array.isArray(e.single)&&(this.evaluator=e.single[this.evaluatorIndex]?e.single[this.evaluatorIndex]:null)}},{key:"executeByParentChannelCommand",value:(g=s(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.excutableMethodsByParent.includes(e)){t.next=4;break}return t.next=3,this[e]();case 3:this.parentChannelObject.onmessage=t.sent;case 4:case"end":return t.stop()}}),t,this)}))),function(t){return g.apply(this,arguments)})},{key:"awaitSelectors",value:(m=s(i().mark((function t(e){var r,n=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.waitForSelectors&&e.waitForSelectors.length){t.next=2;break}return t.abrupt("return");case 2:return this.sendToParentChannel({message:"Currently awaiting selectors or html elements to load on the page",status:"waiting",selectors:e.waitForSelectors}),r=[],t.next=6,y(e.waitForSelectors,function(){var t=s(i().mark((function t(e){var a,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.map((function(t){return s(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p((function(){return document.querySelector(t)}));case 2:r=e.sent,n.sendToParentChannel({statusOk:!!r,selector:t,message:r?'The HTML selector/element "'.concat(r.tagName,'" has successfully loaded!'):"The HTML selector/element didn't load successfully."});case 4:case"end":return e.stop()}}),e)})))})),t.next=3,Promise.all(a.map((function(t){return t()})));case 3:c=t.sent,r.push.apply(r,function(t){if(Array.isArray(t))return o(t)}(u=c)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(u)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());case 5:case"end":return t.stop()}var u}),t)})));return function(e){return t.apply(this,arguments)}}(),e.waitForSelectors.length);case 6:this.sendToParentChannel({message:"We have finished waiting for the selectors",statusOk:!0});case 7:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"closeWindowTab",value:(d=s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.sendToParentChannel({message:"We are closing this Single Product Scraper window.",statusOk:!0}),this.parentChannelObject.close(),window.close();case 3:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"scrapeData",value:(a=s(i().mark((function t(){var e,r,n,o,a,s=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.sendToParentChannel({message:"We are initializing the scraping of this single product.",statusOk:!0}),t.next=3,(e=this.evaluator).callback.apply(e,s);case 3:for(n in r=t.sent)this.followPropsFromProductObject&&Object.keys(this.productObject).includes(n),this.productObject[n]=r[n];for(o in this.productObject)this.excludedProps.includes(o)&&delete this.productObject[o];for(a in this.additionalProductObjectProps)this.productObject[a]=this.additionalProductObjectProps[a];console.log(this.productObject),this.sendToParentChannel({data:this.productObject,type:"scraping-done",message:"Scraping of data is done",statusOk:!0});case 9:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"initializeScraping",value:(n=s(i().mark((function t(){var e=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.awaitSelectors();case 2:return t.next=4,this.scrapeData.apply(this,e);case 4:return t.next=6,this.closeWindowTab();case 6:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],r&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),_}(r(5199));t.exports=m},4429:(t,e,r)=>{var n=r(5131),o=r(5261),i=r(9444),a=r(7918),s=r(4971),c=r(7650),u=r(4913),l=r(8941),f=r(5199);t.exports={SingleProductScraper:n,ProductsSetScraper:o,MultiSingleProductInitializer:i,MultiProductsSetInitializer:a,CategorizedSetsScraper:s,UrlProcess:c,Results:u,CcBrowserWindow:l,CcScraperChannel:f}},4731:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){"use strict";o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function p(){}function y(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,a)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,c){var u=f(t[i],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,c)}),(function(t){o("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,c)}))}c(u.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=y,u(b,"constructor",y),u(y,"constructor",p),p.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),u(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||w(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=m(t);if(e){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(t,e)||w(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=w(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function w(t,e){if(t){if("string"==typeof t)return x(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(t,e):void 0}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function O(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){_(i,n,o,a,s,"next",t)}function s(t){_(i,n,o,a,s,"throw",t)}a(void 0)}))}}var S=r(5733),k=r(925),j=r(3162).saveAs,P=r(9669);function E(t){return I.apply(this,arguments)}function I(){return I=O(o().mark((function t(e){var r,n,i,s,c,u,l=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},n=l.length>2&&void 0!==l[2]&&l[2],i={"Content-Type":"application/json"},s=n?a(a({},r),{},{headers:i}):r,t.next=6,fetch(e,s);case 6:return c=t.sent,t.next=9,c.json();case 9:return u=t.sent,t.abrupt("return",u);case 11:case"end":return t.stop()}}),t)}))),I.apply(this,arguments)}function C(){return C=O(o().mark((function t(e,r){var n,i,s=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},i=r.map((function(t){return O(o().mark((function r(){var i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,E(e,a({method:"POST",body:JSON.stringify(t,null,4)},n));case 3:return i=r.sent,console.log(i),r.abrupt("return",i.data);case 8:return r.prev=8,r.t0=r.catch(0),r.abrupt("return",t);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))})),t.next=4,Promise.all(i.map((function(t){return t()})));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)}))),C.apply(this,arguments)}function D(){return D=O(o().mark((function t(){var e,r,n,i,a=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=function(){n=window.scrollY},e=a.length>0&&void 0!==a[0]?a[0]:150,r=document.body.offsetHeight-window.innerHeight,n=0,window.addEventListener("scroll",i),t.next=6,new Promise((function(t){var o=setInterval((function(){r=document.body.offsetHeight-window.innerHeight,window.scrollTo(0,n+100),n>=r-e&&(console.log({currentScroll:n,totalHeight:r}),clearInterval(o),window.removeEventListener("scroll",i),t())}),25)}));case 6:case"end":return t.stop()}}),t)}))),D.apply(this,arguments)}function A(){return(A=O(o().mark((function t(){var e,r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){r=window.scrollY},e=document.body.offsetHeight-window.innerHeight,r=window.scrollY,window.addEventListener("scroll",n),t.next=5,new Promise((function(t){var o=setInterval((function(){window.scrollTo(0,r-100),r<=0&&(console.log({currentScroll:r,totalHeight:e}),clearInterval(o),window.removeEventListener("scroll",n),t())}),25)}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t){return L.apply(this,arguments)}function L(){return L=O(o().mark((function t(e){var r,n,i=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:300,n=e(),t.next=4,new Promise((function(t){n&&t();var o=0,i=setInterval((function(){((n=e())||o>=r)&&(clearInterval(i),t()),o++}),100)}));case 4:return t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)}))),L.apply(this,arguments)}function T(){return(T=O(o().mark((function t(e){var r,n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.conditionCallback,n=e.onTrueCallback,i=e.messageCallback,r=r||function(){return!0},i=i||function(){},n=n||function(){},t.next=6,new Promise((function(t){i();var e=0,o=setInterval((function(){r()&&(n(),clearInterval(o),t()),100===e&&(i(),e=0),e++}),100)}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(t){return Array.from(t.toLowerCase().trim().replace(/[^a-zA-Z0-9]/g," ").split(" ")).reduce((function(t,e){return""!==e.trim()&&t.push(e),t}),[]).join("-")}function B(t){return t.split("").map((function(t,e){return 0===e?t.toUpperCase():t})).join("").trim()}function R(){return R=O(o().mark((function t(e,r){var n,i,a,s,c,u=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(){return(c=O(o().mark((function t(){var s,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=0;case 1:if(!(s<e.length)){t.next=8;break}return c=e.slice(i,a),t.next=5,r(c,i,a);case 5:s+n<e.length?(i=s+=n,a=s+n):(s+=e.length-s,i=s,a=e.length),t.next=1;break;case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)},s=function(){return c.apply(this,arguments)},n=u.length>2&&void 0!==u[2]?u[2]:5,i=0,a=n,t.next=6,s();case 6:case"end":return t.stop()}}),t)}))),R.apply(this,arguments)}function F(){return U.apply(this,arguments)}function U(){return U=O(o().mark((function t(){var e,r,n=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]&&n[0],r=e||7747,t.next=4,new Promise((function(t){return setTimeout(t,r)}));case 4:case"end":return t.stop()}}),t)}))),U.apply(this,arguments)}function W(){return(W=O(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.createElement("a"),i="".concat(z("enc "+Object.keys(r).reduce((function(t,e){return r[e]&&r[e].trim().length&&t.push(r[e].trim()),t}),[]).join(" ")+" __dt-".concat(Date.now())+" __total-".concat(e.length)),".txt"),n.style.display="none",n.setAttribute("href","data:text/plain;charset=utf-8, ".concat(btoa(encodeURIComponent(JSON.stringify(e))))),n.setAttribute("target","_blank"),n.setAttribute("download",i),n.setAttribute("class","__cc_download-encoded-text"),document.body.appendChild(n),t.next=9,N((function(){return document.querySelector(".__cc_download-encoded-text")}));case 9:return n.click(),t.next=12,F(3434);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"camel-case";return t="camel-case"===e?t.replace(/([A-Z])/g,(function(t){return" ".concat(t.toUpperCase())})):"underscored"===e?t.split("_").map((function(t){return B(t)})).join(" "):t.split("-").map((function(t){return B(t)})).join(" "),B(t)}function G(){return(G=O(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.createElement("a"),i="".concat(z(Object.keys(r).reduce((function(t,e){return t+(r[e]+" ")}),"")+" __date-".concat(Date.now())+" __total-".concat(e.length)),".json"),n.style.display="none",n.setAttribute("href","data:application/json;charset=utf-8, ".concat(encodeURIComponent(JSON.stringify(e,null,4)))),n.setAttribute("target","_blank"),n.setAttribute("download",i),n.setAttribute("class","__cc_downloadJson_button"),document.body.appendChild(n),t.next=9,N((function(){return document.querySelector(".__cc_downloadJson_button")}));case 9:return n.click(),t.next=12,F(3434);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t){return t.reduce((function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var o=n[r];t.includes(o)||t.push(o)}return t}),[])}function Z(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=[],i=b(e);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=[];if(n.length){var c,u=b(n);try{for(u.s();!(c=u.n()).done;){var l=c.value;s.push(t[l]!==a[l])}}catch(t){u.e(t)}finally{u.f()}}else for(var f in t)s.push(t[f]!==a[f]);o.push(s.every((function(t){return t})))}}catch(t){i.e(t)}finally{i.f()}return o.every((function(t){return t}))}function K(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=q(t).filter((function(t){return!e.includes(t)})),n=r.map((function(t){return'"'.concat(M(t),'"')})).join(","),o=t.map((function(t){var e,n=[],o=b(r);try{var i=function(){var r,o=e.value,i=(r=" ",t[o]&&(r=t[o].replace(/"/g,'""')),'"'.concat(r,'"'));n.push(i)};for(o.s();!(e=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}return n.join(",")})).join("\n"),i=[n,o].join("\n"),a=new Blob([i],{type:"text/csv"});return{csvBlob:a,data:i}}function H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=q(t).filter((function(t){return!e.includes(t)})),n=t.map((function(t){return r.reduce((function(e,r){return e[r]=t[r],e}),{})})),o=new Blob([JSON.stringify(n,null,4)],{type:"application/json"});return console.log(JSON.stringify(n,null,4)),{jsonBlob:o,data:JSON.stringify(n,null,4)}}function J(t){var e=t.productObject,r=t.imageNameObject,n=t.preferredExt,o=t.i;e.imageUris||(e.imageUris=[]);for(var i=e.imageUris,a=r.shared,s=r.split,u=255-(n.length+7),l=function(){var t,r=[],n=b(s);try{for(n.s();!(t=n.n()).done;){var o=t.value;r.push(e[o])}}catch(t){n.e(t)}finally{n.f()}return r}(),f=function(){var t,r=[],n=b(a);try{for(n.s();!(t=n.n()).done;){var o=t.value;e[o]&&r.push(e[o])}}catch(t){n.e(t)}finally{n.f()}return r}(),h=[],d=function(t){var e=l.reduce((function(e,r){return e+r.split("//").map((function(t){return t.trim()}))[t]}),""),r=z(["".concat(o+1," ").concat(t+1),e].concat(c(f)).join(" ").slice(0,u)),a=i[t],s="".concat(r,".").concat(n);h.push({imageName:r,imageUri:a,fileName:s})},p=0;p<i.length;p++)d(p);return h}function V(){return(V=O(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new FileReader,n=null,r.readAsDataURL(e),r.onloadend=function(){n=r.result},t.next=5,new Promise((function(t){var e=setInterval((function(){n&&(clearInterval(e),t())}),10)}));case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(t){var e,r=t||new Date,n=r.getFullYear(),o=(e=r.getDate())<10?"0".concat(e):e;return month=function(){var t=r.getMonth();return t<10?"0".concat(t+1):t+1}(),"".concat(month,"-").concat(o,"-").concat(n)}function X(){return X=O(o().mark((function t(e){var r,n,i,a,s,u,l,f,h,d,p,y,v,m,g,b,w,x,_=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.setData,n=e.productObjects,i=e.imageNameObject,a=e.imagePropName,s=e.csvExcludedProps,u=e.includeJson,l=_.length>1&&void 0!==_[1]?_[1]:function(){},s||(s=[]),s=[].concat(c(s),["dateCreated","_id","__v","imagePaths","imageUris","multiFaced","productUri","setData","setId","id"]),f=new S,h=f.folder("images"),d="".concat(z([Object.values(r).join(" "),"dt",Y(),"total",n.length].join(" ")),".csv"),p="".concat(z([Object.values(r).join(" "),"dt",Y(),"total",n.length].join(" ")),".zip"),y=n.map((function(t,e){return O(o().mark((function r(){var n,s,c;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=J({productObject:t,imageNameObject:i,preferredExt:"jpg",i:e}),s=[],c=n.map((function(t){return O(o().mark((function r(){var n,i,a,c;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.imageUri,i=t.fileName,r.next=4,P.get(n,{responseType:"arraybuffer"});case 4:a=r.sent,c=a.data,l({imageUri:n,index:e}),s.push(i),h.file(i,c,{binary:!0});case 9:case"end":return r.stop()}}),r)})))})),r.next=3,Promise.all(c.map((function(t){return t()})));case 3:t[a]=s.join(" // ");case 4:case"end":return r.stop()}}),r)})))})),t.next=7,Promise.all(y.map((function(t){return t()})));case 7:return u&&(v="".concat(z([Object.values(r).join(" "),"dt",Y(),"total",n.length].join(" ")),".json"),m=H(n,s),g=m.data,f.file(v,g)),b=K(n,s),w=b.data,f.file(d,w),x=!1,f.generateAsync({type:"blob"}).then((function(t){l("creating a zipped file..."),j(t,p),x=!0})),t.next=14,new Promise((function(t){var e=setInterval((function(){x&&(clearInterval(e),t())}),10)}));case 14:return l("zipping done, please wait for the file to appear"),t.abrupt("return",!0);case 16:case"end":return t.stop()}}),t)}))),X.apply(this,arguments)}t.exports={apiRequest:E,postDataArray:function(t,e){return C.apply(this,arguments)},scrollToBottom:function(){return D.apply(this,arguments)},isInArray:function(t,e){return t.find((function(t){var r=[],n=Object.keys(e),o=Object.keys(t);for(var i in e)r.push(t[i]===e[i]);return r.every((function(t){return t}))&&n.length===o.length}))},waitForSelector:N,waitForCondition:function(t){return T.apply(this,arguments)},toUrl:z,toCapitalize:B,toCapitalizeAll:function(t){return t.split(" ").map((function(t){return B(t)})).join(" ")},objectToQueryString:function(t){return Object.keys(t).reduce((function(e,r){return t[r]&&e.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(t[r]))),e}),[]).join("&")},queryStringToObject:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new URL(t),n=r.search.length?r.search.slice(1):"",o="/"===r.origin.charAt(r.origin.length-1)?r.origin.slice(0,-1):r.origin,i=r.pathname.split("/").filter((function(t){return t.length>0})).join("/"),a=e?"".concat(i,"/"):i,s=n.length?n.split("&"):[];return{queryObject:s.reduce((function(t,e){var r=g(e.split("="),2),n=r[0],o=r[1];return t[decodeURIComponent(n)]=decodeURIComponent(o),t}),{}),originalUrl:t,origin:o,pathname:a,urlWithoutQueryString:[o,a].join("/")}},scrollToTop:function(){return A.apply(this,arguments)},moderator:function(t,e){return R.apply(this,arguments)},slowDown:F,isObjectInArray:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.some((function(e){var n=[];if(r.length){var o,i=b(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;n.push(t[a]===e[a])}}catch(t){i.e(t)}finally{i.f()}}else for(var s in t)n.push(t[s]===e[s]);return n.every((function(t){return t}))}))},downloadEncodedText:function(t,e){return W.apply(this,arguments)},downloadJsonFile:function(t,e){return G.apply(this,arguments)},downloadCsvData:function(t,e){var r=K(t).csvBlob,n=URL.createObjectURL(r),o=document.createElement("a");o.setAttribute("href",n),o.setAttribute("download","".concat(e,".csv")),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(n)},getValidatedPropValues:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){};if(!t)return null;var n=null;return e.reduce((function(t,e){return t[e]?(t=t[e],n=t):(t={},n=null),r(n),t}),t),n},ccEncodeObject:function(t){try{return encodeURIComponent(btoa(JSON.stringify(t)))}catch(e){return encodeURIComponent(JSON.stringify(t))}},ccDecodeObject:function(t){try{return JSON.parse(atob(decodeURIComponent(t)))}catch(e){return JSON.parse(decodeURIComponent(t))}},generateUuid:function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?r:3&r|8).toString(16)}))},getInitials:function(t){return"string"==typeof t&&t.length?M(t.trim()).split(" ").map((function(t){return t.charAt(0).toUpperCase()})).join(""):null},toNormalString:M,toCamelCase:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e?"-":" ";return t.toLowerCase().split("".concat(n)).map((function(t,e){return 0!==e||r?B(t):t})).join("")},mergedClassesGenerator:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o=function(t){h(n,t);var e=p(n);function n(){var t;f(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a)),r.forEach((function(e){i(v(t),new e)})),t}return l(n)}(t),i=function(t,e){Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach((function(r){r.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))};return r.forEach((function(t){i(o.prototype,t.prototype),i(o,t)})),o},getAllObjectKeys:q,sortObjectsByDate:function(t){t.sort((function(t,e){var r=new Date(t.releasedDate).getTime(),n=new Date(t.releasedDate).getTime();return r<n?-1:r>n?1:0}))},objectToString:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:", ",r=[];for(var n in t)r.push("".concat(M(n)," : ").concat(M(t[n]).toUpperCase()));return r.join(e)},isObjectUnique:Z,filterUnlistedObjects:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.filter((function(e){return Z(e,t,r)}))},createCsvBlob:K,createJSONBlob:H,JsZip:S,JsZipUtils:k,saveAs:j,zipData:function(t){return X.apply(this,arguments)},readBlobData:function(t){return V.apply(this,arguments)},getImageNameObject:J,formattedDate:Y,enumerate:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((t=c(t)).length>1){var r=t.pop();return"".concat(t.join(", "),", ").concat(e?"and":"or"," ").concat(r)}return t[0]}}},3858:(t,e,r)=>{var n=r(7129);t.exports={Localbase:n}},3029:(t,e,r)=>{var n=r(7838),o=r(4184);t.exports=function(t){return o.call(this),n.error.call(this,t),"Error: ".concat(t)}},4184:t=>{t.exports=function(){this.collectionName=null,this.orderByProperty=null,this.orderByDirection=null,this.limitBy=null,this.docSelectionCriteria=null,this.userErrors=[]}},6311:t=>{t.exports=function(){var t;return this.collectionName||this.docSelectionCriteria?this.collectionName&&!this.docSelectionCriteria?t="collection":this.collectionName&&this.docSelectionCriteria&&(t="doc"):t="db",t}},3485:(t,e,r)=>{var n=r(7838),o=r(4184);t.exports=function(){for(var t=0;t<this.userErrors.length;t++)n.error.call(this,this.userErrors[t]);o.call(this)}},5587:(t,e,r)=>{var n=r(7838),o=r(4184);t.exports=function(t,e){return o.call(this),n.log.call(this,t,e),{success:!0,message:t,data:e}}},1442:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(2024),i=r(5587),a=r(3029),s=r(3485);t.exports=function(t,e){var r=this;if(t?"object"==n(t)&&t instanceof Array==0||this.userErrors.push("Data passed to .add() must be an object. Not an array, string, number or boolean."):this.userErrors.push('No data specified in add() method. You must use an object, e.g { id: 1, name: "Bill", age: 47 }'),!this.userErrors.length){var c=this.collectionName;return new Promise((function(n,s){var u;return u=e||o.generate(),r.lf[c].setItem(u,t).then((function(){n(i.call(r,'Document added to "'.concat(c,'" collection.'),{key:u,data:t}))})).catch((function(t){s(a.call(r,"Could not add Document to ".concat(c," collection.")))}))}))}s.call(this)}},6645:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(8267),i=r(7838),a=r(6311),s=r(5587),c=r(3029),u=r(3485);t.exports=function(){var t=this;return new Promise((function(e,r){if(t.deleteDatabase=function(){var r=t.dbName;indexedDB.deleteDatabase(r),e(s.call(t,'Database "'.concat(r,'" deleted.'),{database:r}))},t.deleteCollection=function(){var n=t.dbName,o=t.collectionName;t.addToDeleteCollectionQueue=function(e){t.deleteCollectionQueue.queue.push(e),t.runDeleteCollectionQueue()},t.runDeleteCollectionQueue=function(){0==t.deleteCollectionQueue.running&&(t.deleteCollectionQueue.running=!0,t.deleteNextCollectionFromQueue())},t.deleteNextCollectionFromQueue=function(){if(t.deleteCollectionQueue.queue.length){var o=t.deleteCollectionQueue.queue[0];t.deleteCollectionQueue.queue.shift(),t.lf[o].dropInstance({name:n,storeName:o}).then((function(){t.deleteNextCollectionFromQueue(),e(s.call(t,'Collection "'.concat(o,'" deleted.'),{collection:o}))})).catch((function(e){r(e.call(t,'Collection "'.concat(o,'" could not be deleted.')))}))}else t.deleteCollectionQueue.running=!1},t.addToDeleteCollectionQueue(o)},t.deleteDocument=function(){var a=t.collectionName,u=t.docSelectionCriteria;return t.deleteDocumentByCriteria=function(){var n=[];t.lf[a].iterate((function(t,e){o(t,u)&&n.push(e)})).then((function(){n.length||r(c.call(t,'No Documents found in "'.concat(a,'" Collection with criteria ').concat(JSON.stringify(u),". No documents deleted."))),n.length>1&&i.warn.call(t,"Multiple documents (".concat(n.length,") with ").concat(JSON.stringify(u)," found."))})).then((function(){n.forEach((function(o,i){t.lf[a].removeItem(o).then((function(){i===n.length-1&&e(s.call(t,"".concat(n.length," Document").concat(n.length>1?"s":""," with ").concat(JSON.stringify(u)," deleted."),{keys:n}))})).catch((function(e){r(c.call(t,"Could not delete ".concat(n.length," Documents in ").concat(a," Collection.")))}))}))}))},t.deleteDocumentByKey=function(){t.lf[a].getItem(u).then((function(n){n?t.lf[a].removeItem(u).then((function(){e(s.call(t,"Document with key ".concat(JSON.stringify(u)," deleted."),{key:u}))})).catch((function(t){r(c.call(this,'No Document found in "'.concat(a,'" Collection with key ').concat(JSON.stringify(u),". No document was deleted.")))})):r(c.call(t,'No Document found in "'.concat(a,'" Collection with key ').concat(JSON.stringify(u),". No document was deleted.")))}))},"object"==n(u)?t.deleteDocumentByCriteria():t.deleteDocumentByKey()},t.userErrors.length)u.call(t);else{var l=a.call(t);if("db"==l)return t.deleteDatabase();if("collection"==l)return t.deleteCollection();if("doc"==l)return t.deleteDocument()}}))}},4458:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(8267),i=r(7838),a=r(4184),s=r(6311),c=r(3485);t.exports=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{keys:!1};if(this.getCollection=function(){var r=t.collectionName,n=t.orderByProperty,o=t.orderByDirection,s=t.limitBy,c=[];return t.lf[r].iterate((function(t,r){var n;n=e.keys?{key:r,data:t}:t,c.push(n)})).then((function(){var u='Got "'.concat(r,'" collection');return n&&(u+=', ordered by "'.concat(n,'"'),e.keys?c.sort((function(t,e){return t.data[n].toString().localeCompare(e.data[n].toString())})):c.sort((function(t,e){return t[n].toString().localeCompare(e[n].toString())}))),"desc"==o&&(u+=" (descending)",c.reverse()),s&&(u+=", limited to ".concat(s),c=c.splice(0,s)),u+=":",i.log.call(t,u,c),a.call(t),c}))},this.getDocument=function(){var e=t.collectionName,r=t.docSelectionCriteria,s=[],c={};return t.getDocumentByCriteria=function(){return t.lf[e].iterate((function(t,e){o(t,r)&&s.push(t)})).then((function(){if(s.length)return c=s[0],i.log.call(t,"Got Document with ".concat(JSON.stringify(r),":"),c),a.call(t),c;i.error.call(t,'Could not find Document in "'.concat(e,'" collection with criteria: ').concat(JSON.stringify(r)))}))},t.getDocumentByKey=function(){return t.lf[e].getItem(r).then((function(n){return(c=n)?i.log.call(t,"Got Document with key ".concat(JSON.stringify(r),":"),c):i.error.call(t,'Could not find Document in "'.concat(e,'" collection with Key: ').concat(JSON.stringify(r))),a.call(t),c})).catch((function(n){i.error.call(t,'Could not find Document in "'.concat(e,'" collection with Key: ').concat(JSON.stringify(r))),a.call(t)}))},"object"==n(r)?t.getDocumentByCriteria():t.getDocumentByKey()},"object"!=n(e)||e instanceof Array!=0?this.userErrors.push('Data passed to .get() must be an object. Not an array, string, number or boolean. The object must contain a "keys" property set to true or false, e.g. { keys: true }'):e.hasOwnProperty("keys")?"boolean"!=typeof e.keys&&this.userErrors.push('Property "keys" passed into get() method must be assigned a boolean value (true or false). Not a string or integer.'):this.userErrors.push('Object passed to get() method must contain a "keys" property set to boolean true or false, e.g. { keys: true }'),this.userErrors.length)return c.call(this),null;var r=s.call(this);return"collection"==r?this.getCollection():"doc"==r?this.getDocument():void 0}},7528:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(7838),i=r(8267),a=r(5587),s=r(3029),c=r(3485),u=r(6311);t.exports=function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:!1},l=this.collectionName,f=this.docSelectionCriteria,h=u.call(this);return new Promise((function(u,d){if(e.setCollection=function(){e.lf[l].clear().then((function(){if(r.keys){console.log("keys provided");var n=0;t.forEach((function(t){t.hasOwnProperty("_key")||n++})),n?d(s.call(e,"Documents provided to .set() in an array must each have a _key property set to a string.")):(t.forEach((function(t){var r=t._key;delete t._key,e.add(t,r)})),u(a.call(e,'Collection "'.concat(l,'" set with ').concat(t.length," Documents."),t)))}else t.forEach((function(t){e.add(t)})),u(a.call(e,'Collection "'.concat(l,'" set with ').concat(t.length," Documents."),t))})).catch((function(r){d(s.call(e,"Could not set ".concat(l," Collection with data ").concat(JSON.stringify(t),".")))}))},e.setDocument=function(){return e.setDocumentByCriteria=function(){var r=[];e.lf[l].iterate((function(e,n){i(e,f)&&r.push({key:n,newDocument:t})})).then((function(){r.length||d(s.call(e,"No Documents found in ".concat(l," Collection with criteria ").concat(JSON.stringify(f),"."))),r.length>1&&o.warn.call(e,"Multiple documents (".concat(r.length,") with ").concat(JSON.stringify(f)," found for setting."))})).then((function(){r.forEach((function(n,o){e.lf[l].setItem(n.key,n.newDocument).then((function(n){o===r.length-1&&u(a.call(e,"".concat(r.length," Document").concat(r.length>1?"s":"",' in "').concat(l,'" collection with ').concat(JSON.stringify(f)," was set."),t))})).catch((function(t){d(s.call(e,"Could not set ".concat(r.length," Documents in ").concat(l," Collection.")))}))}))}))},e.setDocumentByKey=function(){e.lf[l].setItem(f,t).then((function(r){u(a.call(e,'Document in "'.concat(l,'" collection with key ').concat(JSON.stringify(f)," was set."),t))})).catch((function(t){d(s.call(e,'Document in "'.concat(l,'" collection with key ').concat(JSON.stringify(f)," could not be set.")))}))},"object"==n(f)?e.setDocumentByCriteria():e.setDocumentByKey()},t?"doc"===h?"object"==n(t)&&t instanceof Array==0||e.userErrors.push("Data passed to .set() must be an object. Not an array, string, number or boolean."):"collection"===h&&("object"==n(t)&&t instanceof Array==1||e.userErrors.push("Data passed to .set() must be an array of objects. Not an object, string, number or boolean.")):e.userErrors.push('No new Document object provided to set() method. Use an object e.g. { id: 1, name: "Bill", age: 47 }'),e.userErrors.length)c.call(e);else{if("collection"==h)return e.setCollection();if("doc"==h)return e.setDocument()}}))}},9690:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(7838),i=r(8267),a=r(6575),s=r(5587),c=r(3029),u=r(3485);t.exports=function(t){var e=this,r=this.collectionName,l=this.docSelectionCriteria;return new Promise((function(f,h){e.updateDocumentByCriteria=function(){var n=[];e.lf[r].iterate((function(e,r){if(i(e,l)){var o=a(e,t);n.push({key:r,newDocument:o})}})).then((function(){n.length||h(c.call(e,"No Documents found in ".concat(r," Collection with criteria ").concat(JSON.stringify(l),"."))),n.length>1&&o.warn.call(e,"Multiple documents (".concat(n.length,") with ").concat(JSON.stringify(l)," found for updating."))})).then((function(){n.forEach((function(o,i){e.lf[r].setItem(o.key,o.newDocument).then((function(o){i===n.length-1&&f(s.call(e,"".concat(n.length," Document").concat(n.length>1?"s":"",' in "').concat(r,'" collection with ').concat(JSON.stringify(l)," updated."),t))})).catch((function(t){h(c.call(e,"Could not update ".concat(n.length," Documents in ").concat(r," Collection.")))}))}))}))},e.updateDocumentByKey=function(){var n={};e.lf[r].getItem(l).then((function(o){n=a(o,t),e.lf[r].setItem(l,n),f(s.call(e,'Document in "'.concat(r,'" collection with key ').concat(JSON.stringify(l)," updated."),n))})).catch((function(t){h(c.call(e,'No Document found in "'.concat(r,'" collection with key ').concat(JSON.stringify(l))))}))},t?"object"==n(t)&&t instanceof Array==0||e.userErrors.push("Data passed to .update() must be an object. Not an array, string, number or boolean."):e.userErrors.push('No update object provided to update() method. Use an object e.g. { name: "William" }'),e.userErrors.length?u.call(e):"object"==n(l)?e.updateDocumentByCriteria():e.updateDocumentByKey()}))}},7532:t=>{t.exports=function(t){return t?Number.isInteger(t)?this.limitBy=t:this.userErrors.push("Limit parameter in limit() method must be an integer (e.g. 3) and not a float, boolean, string or object."):this.userErrors.push("No integer specified in limit() method."),this}},6289:t=>{t.exports=function(t,e){return t?"string"!=typeof t?this.userErrors.push("First parameter in orderBy() method must be a string (a field name) e.g. 'name'"):this.orderByProperty=t:this.userErrors.push("No field name specified in orderBy() method. Use a string e.g. 'name'"),e&&("asc"!==e&&"desc"!==e?this.userErrors.push("Second parameter in orderBy() method must be a string set to 'asc' or 'desc'."):this.orderByDirection=e),this}},9684:(t,e,r)=>{var n=r(9483);t.exports=function(t){if(t){if("string"!=typeof t)return this.userErrors.push("Collection name in collection() method must be a string and not an object, number or boolean."),this;this.collectionName=t;var e=this.dbName;return t in this.lf||(this.lf[t]=n.createInstance({driver:n.INDEXEDDB,name:e,storeName:t})),this}return this.userErrors.push("No collection name specified in collection() method."),this}},9351:t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.exports=function(t){return t?"string"!=typeof t&&"object"!==e(t)?this.userErrors.push("Document criteria specified in doc() method must not be a number or boolean. Use a string (with a key) or an object (with criteria) e.g. { id: 1 }"):this.docSelectionCriteria=t:this.userErrors.push("No document criteria specified in doc() method. Use a string (with a key) or an object (with criteria) e.g. { id: 1 }"),this}},7129:(t,e,r)=>{function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var i=r(9684),a=r(9351),s=r(6289),c=r(7532),u=r(4458),l=r(1442),f=r(9690),h=r(7528),d=r(6645),p=o((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dbName=e,this.lf={},this.collectionName=null,this.orderByProperty=null,this.orderByDirection=null,this.limitBy=null,this.docSelectionCriteria=null,this.deleteCollectionQueue={queue:[],running:!1},this.config={debug:!0},this.userErrors=[],this.collection=i.bind(this),this.doc=a.bind(this),this.orderBy=s.bind(this),this.limit=c.bind(this),this.get=u.bind(this),this.add=l.bind(this),this.update=f.bind(this),this.set=h.bind(this),this.delete=d.bind(this)}));t.exports=p},8267:t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.exports=function(t,r){return Object.keys(r).every((function(n){return"object"==e(r[n])?isSubset(t[n],r[n]):r[n]===t[n]}))}},7838:t=>{t.exports={baseStyle:"\n    padding: 2px 5px;\n    background-color: #124F5C;\n    border-radius: 4px;\n    color: white; \n  ",colors:{log:"#124F5C",error:"#ed2939",warn:"#f39c12"},log:function(t,e){},error:function(t,e){},warn:function(t,e){}}},6575:t=>{t.exports=function(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e]){var n=arguments[e][r];t[r]=n}return t}},3162:function(t,e,r){var n;void 0===(n=function(){"use strict";function e(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){s(n.response,e,r)},n.onerror=function(){console.error("could not download file")},n.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(r){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r.g&&r.g.global===r.g?r.g:void 0,a=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(t,r,a){var s=i.URL||i.webkitURL,c=document.createElement("a");r=r||t.name||"download",c.download=r,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?o(c):n(c.href)?e(t,r,a):o(c,c.target="_blank")):(c.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){o(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,r,i){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,i),r);else if(n(t))e(t,r,i);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout((function(){o(a)}))}}:function(t,r,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof t)return e(t,r,n);var s="application/octet-stream"===t.type,c=/constructor/i.test(i.HTMLElement)||i.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&c||a)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},l.readAsDataURL(t)}else{var f=i.URL||i.webkitURL,h=f.createObjectURL(t);o?o.location=h:location.href=h,o=null,setTimeout((function(){f.revokeObjectURL(h)}),4e4)}});i.saveAs=s.saveAs=s,t.exports=s}.apply(e,[]))||(t.exports=n)},925:t=>{"use strict";var e={};function r(){try{return new window.XMLHttpRequest}catch(t){}}e._getBinaryFromXHR=function(t){return t.response||t.responseText};var n="undefined"!=typeof window&&window.ActiveXObject?function(){return r()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}()}:r;e.getBinaryContent=function(t,r){var o,i,a,s;r||(r={}),"function"==typeof r?(s=r,r={}):"function"==typeof r.callback&&(s=r.callback),s||"undefined"==typeof Promise?(i=function(t){s(null,t)},a=function(t){s(t,null)}):o=new Promise((function(t,e){i=t,a=e}));try{var c=n();c.open("GET",t,!0),"responseType"in c&&(c.responseType="arraybuffer"),c.overrideMimeType&&c.overrideMimeType("text/plain; charset=x-user-defined"),c.onreadystatechange=function(r){if(4===c.readyState)if(200===c.status||0===c.status)try{i(e._getBinaryFromXHR(c))}catch(t){a(new Error(t))}else a(new Error("Ajax error for "+t+" : "+this.status+" "+this.statusText))},r.progress&&(c.onprogress=function(e){r.progress({path:t,originalEvent:e,percent:e.loaded/e.total*100,loaded:e.loaded,total:e.total})}),c.send()}catch(t){a(new Error(t),null)}return o},t.exports=e},5733:(t,e,r)=>{t.exports=function t(e,r,n){function o(a,s){if(!r[a]){if(!e[a]){if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[a]={exports:{}};e[a][0].call(u.exports,(function(t){return o(e[a][1][t]||t)}),u,u.exports,t,e,r,n)}return r[a].exports}for(var i=void 0,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,r){"use strict";var n=t("./utils"),o=t("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(t){for(var e,r,o,a,s,c,u,l=[],f=0,h=t.length,d=h,p="string"!==n.getTypeOf(t);f<t.length;)d=h-f,o=p?(e=t[f++],r=f<h?t[f++]:0,f<h?t[f++]:0):(e=t.charCodeAt(f++),r=f<h?t.charCodeAt(f++):0,f<h?t.charCodeAt(f++):0),a=e>>2,s=(3&e)<<4|r>>4,c=1<d?(15&r)<<2|o>>6:64,u=2<d?63&o:64,l.push(i.charAt(a)+i.charAt(s)+i.charAt(c)+i.charAt(u));return l.join("")},r.decode=function(t){var e,r,n,a,s,c,u=0,l=0,f="data:";if(t.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var h,d=3*(t=t.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(t.charAt(t.length-1)===i.charAt(64)&&d--,t.charAt(t.length-2)===i.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=o.uint8array?new Uint8Array(0|d):new Array(0|d);u<t.length;)e=i.indexOf(t.charAt(u++))<<2|(a=i.indexOf(t.charAt(u++)))>>4,r=(15&a)<<4|(s=i.indexOf(t.charAt(u++)))>>2,n=(3&s)<<6|(c=i.indexOf(t.charAt(u++))),h[l++]=e,64!==s&&(h[l++]=r),64!==c&&(h[l++]=n);return h}},{"./support":30,"./utils":32}],2:[function(t,e,r){"use strict";var n=t("./external"),o=t("./stream/DataWorker"),i=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");function s(t,e,r,n,o){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=n,this.compressedContent=o}s.prototype={getContentWorker:function(){var t=new o(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new o(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,r){return t.pipe(new i).pipe(new a("uncompressedSize")).pipe(e.compressWorker(r)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,r){"use strict";var n=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,r){"use strict";var n=t("./utils"),o=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==n.getTypeOf(t)?function(t,e,r,n){var i=o,a=0+r;t^=-1;for(var s=0;s<a;s++)t=t>>>8^i[255&(t^e[s])];return-1^t}(0|e,t,t.length):function(t,e,r,n){var i=o,a=0+r;t^=-1;for(var s=0;s<a;s++)t=t>>>8^i[255&(t^e.charCodeAt(s))];return-1^t}(0|e,t,t.length):0}},{"./utils":32}],5:[function(t,e,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,e,r){"use strict";var n;n="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:n}},{lie:37}],7:[function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=t("pako"),i=t("./utils"),a=t("./stream/GenericWorker"),s=n?"uint8array":"array";function c(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}r.magic="\b\0",i.inherits(c,a),c.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(i.transformTo(s,t.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},r.compressWorker=function(t){return new c("Deflate",t)},r.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,r){"use strict";function n(t,e){var r,n="";for(r=0;r<e;r++)n+=String.fromCharCode(255&t),t>>>=8;return n}function o(t,e,r,o,a,l){var f,h,d=t.file,p=t.compression,y=l!==s.utf8encode,v=i.transformTo("string",l(d.name)),m=i.transformTo("string",s.utf8encode(d.name)),g=d.comment,b=i.transformTo("string",l(g)),w=i.transformTo("string",s.utf8encode(g)),x=m.length!==d.name.length,_=w.length!==g.length,O="",S="",k="",j=d.dir,P=d.date,E={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(E.crc32=t.crc32,E.compressedSize=t.compressedSize,E.uncompressedSize=t.uncompressedSize);var I=0;e&&(I|=8),y||!x&&!_||(I|=2048);var C=0,D=0;j&&(C|=16),"UNIX"===a?(D=798,C|=function(t,e){var r=t;return t||(r=e?16893:33204),(65535&r)<<16}(d.unixPermissions,j)):(D=20,C|=function(t){return 63&(t||0)}(d.dosPermissions)),f=P.getUTCHours(),f<<=6,f|=P.getUTCMinutes(),f<<=5,f|=P.getUTCSeconds()/2,h=P.getUTCFullYear()-1980,h<<=4,h|=P.getUTCMonth()+1,h<<=5,h|=P.getUTCDate(),x&&(S=n(1,1)+n(c(v),4)+m,O+="up"+n(S.length,2)+S),_&&(k=n(1,1)+n(c(b),4)+w,O+="uc"+n(k.length,2)+k);var A="";return A+="\n\0",A+=n(I,2),A+=p.magic,A+=n(f,2),A+=n(h,2),A+=n(E.crc32,4),A+=n(E.compressedSize,4),A+=n(E.uncompressedSize,4),A+=n(v.length,2),A+=n(O.length,2),{fileRecord:u.LOCAL_FILE_HEADER+A+v+O,dirRecord:u.CENTRAL_FILE_HEADER+n(D,2)+A+n(b.length,2)+"\0\0\0\0"+n(C,4)+n(o,4)+v+O+b}}var i=t("../utils"),a=t("../stream/GenericWorker"),s=t("../utf8"),c=t("../crc32"),u=t("../signature");function l(t,e,r,n){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(l,a),l.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,a.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-n-1))/r:100}}))},l.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=o(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=o(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:function(t){return u.DATA_DESCRIPTOR+n(t.crc32,4)+n(t.compressedSize,4)+n(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-t,o=function(t,e,r,o,a){var s=i.transformTo("string",a(o));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(t,2)+n(t,2)+n(e,4)+n(r,4)+n(s.length,2)+s}(this.dirRecords.length,r,t,this.zipComment,this.encodeFileName);this.push({data:o,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(t){var e=this._sources;if(!a.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch(t){}return!0},l.prototype.lock=function(){a.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,r){"use strict";var n=t("../compressions"),o=t("./ZipFileWorker");r.generateWorker=function(t,e,r){var i=new o(e.streamFiles,r,e.platform,e.encodeFileName),a=0;try{t.forEach((function(t,r){a++;var o=function(t,e){var r=t||e,o=n[r];if(!o)throw new Error(r+" is not a valid compression method !");return o}(r.options.compression,e.compression),s=r.options.compressionOptions||e.compressionOptions||{},c=r.dir,u=r.date;r._compressWorker(o,s).withStreamInfo("file",{name:t,dir:c,date:u,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(i)})),i.entriesCount=a}catch(t){i.error(t)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var t=new n;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.10.1",n.loadAsync=function(t,e){return(new n).loadAsync(t,e)},n.external=t("./external"),e.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,r){"use strict";var n=t("./utils"),o=t("./external"),i=t("./utf8"),a=t("./zipEntries"),s=t("./stream/Crc32Probe"),c=t("./nodejsUtils");function u(t){return new o.Promise((function(e,r){var n=t.decompressed.getContentWorker().pipe(new s);n.on("error",(function(t){r(t)})).on("end",(function(){n.streamInfo.crc32!==t.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}e.exports=function(t,e){var r=this;return e=n.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),c.isNode&&c.isStream(t)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var r=new a(e);return r.load(t),r})).then((function(t){var r=[o.Promise.resolve(t)],n=t.files;if(e.checkCRC32)for(var i=0;i<n.length;i++)r.push(u(n[i]));return o.Promise.all(r)})).then((function(t){for(var o=t.shift(),i=o.files,a=0;a<i.length;a++){var s=i[a],c=s.fileNameStr,u=n.resolve(s.fileNameStr);r.file(u,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders}),s.dir||(r.file(u).unsafeOriginalName=c)}return o.zipComment.length&&(r.comment=o.zipComment),r}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,r){"use strict";var n=t("../utils"),o=t("../stream/GenericWorker");function i(t,e){o.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}n.inherits(i,o),i.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},i.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,r){"use strict";var n=t("readable-stream").Readable;function o(t,e,r){n.call(this,e),this._helper=t;var o=this;t.on("data",(function(t,e){o.push(t)||o._helper.pause(),r&&r(e)})).on("error",(function(t){o.emit("error",t)})).on("end",(function(){o.push(null)}))}t("../utils").inherits(o,n),o.prototype._read=function(){this._helper.resume()},e.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,e,r){"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,r){"use strict";function n(t,e,r){var n,o=i.getTypeOf(e),s=i.extend(r||{},c);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=y(t)),s.createFolders&&(n=p(t))&&v.call(this,n,!0);var f="string"===o&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!f),(e instanceof u&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",o="string");var m;m=e instanceof u||e instanceof a?e:h.isNode&&h.isStream(e)?new d(t,e):i.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var g=new l(t,m,s);this.files[t]=g}var o=t("./utf8"),i=t("./utils"),a=t("./stream/GenericWorker"),s=t("./stream/StreamHelper"),c=t("./defaults"),u=t("./compressedObject"),l=t("./zipObject"),f=t("./generate"),h=t("./nodejsUtils"),d=t("./nodejs/NodejsStreamInputAdapter"),p=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},y=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},v=function(t,e){return e=void 0!==e?e:c.createFolders,t=y(t),this.files[t]||n.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function m(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var g={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,r,n;for(e in this.files)n=this.files[e],(r=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(r,n)},filter:function(t){var e=[];return this.forEach((function(r,n){t(r,n)&&e.push(n)})),e},file:function(t,e,r){if(1!==arguments.length)return t=this.root+t,n.call(this,t,e,r),this;if(m(t)){var o=t;return this.filter((function(t,e){return!e.dir&&o.test(t)}))}var i=this.files[this.root+t];return i&&!i.dir?i:null},folder:function(t){if(!t)return this;if(m(t))return this.filter((function(e,r){return r.dir&&t.test(e)}));var e=this.root+t,r=v.call(this,e),n=this.clone();return n.root=r.name,n},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var r=this.filter((function(e,r){return r.name.slice(0,t.length)===t})),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,r={};try{if((r=i.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");i.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var n=r.comment||this.comment||"";e=f.generateWorker(this,r,n)}catch(t){(e=new a("error")).error(t)}return new s(e,r.type||"string",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=g},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,r){"use strict";e.exports=t("stream")},{stream:void 0}],17:[function(t,e,r){"use strict";var n=t("./DataReader");function o(t){n.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(o,n),o.prototype.byteAt=function(t){return this.data[this.zero+t]},o.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),o=t.charCodeAt(3),i=this.length-4;0<=i;--i)if(this.data[i]===e&&this.data[i+1]===r&&this.data[i+2]===n&&this.data[i+3]===o)return i-this.zero;return-1},o.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),o=t.charCodeAt(3),i=this.readData(4);return e===i[0]&&r===i[1]&&n===i[2]&&o===i[3]},o.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,e,r){"use strict";var n=t("../utils");function o(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=o},{"../utils":32}],19:[function(t,e,r){"use strict";var n=t("./Uint8ArrayReader");function o(t){n.call(this,t)}t("../utils").inherits(o,n),o.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,r){"use strict";var n=t("./DataReader");function o(t){n.call(this,t)}t("../utils").inherits(o,n),o.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},o.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},o.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},o.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,e,r){"use strict";var n=t("./ArrayReader");function o(t){n.call(this,t)}t("../utils").inherits(o,n),o.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,r){"use strict";var n=t("../utils"),o=t("../support"),i=t("./ArrayReader"),a=t("./StringReader"),s=t("./NodeBufferReader"),c=t("./Uint8ArrayReader");e.exports=function(t){var e=n.getTypeOf(t);return n.checkSupport(e),"string"!==e||o.uint8array?"nodebuffer"===e?new s(t):o.uint8array?new c(n.transformTo("uint8array",t)):new i(n.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,r){"use strict";var n=t("./GenericWorker"),o=t("../utils");function i(t){n.call(this,"ConvertWorker to "+t),this.destType=t}o.inherits(i,n),i.prototype.processChunk=function(t){this.push({data:o.transformTo(this.destType,t.data),meta:t.meta})},e.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,r){"use strict";var n=t("./GenericWorker"),o=t("../crc32");function i(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(i,n),i.prototype.processChunk=function(t){this.streamInfo.crc32=o(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,r){"use strict";var n=t("../utils"),o=t("./GenericWorker");function i(t){o.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}n.inherits(i,o),i.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}o.prototype.processChunk.call(this,t)},e.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,r){"use strict";var n=t("../utils"),o=t("./GenericWorker");function i(t){o.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=n.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}n.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,r){"use strict";function n(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=n},{}],29:[function(t,e,r){"use strict";var n=t("../utils"),o=t("./ConvertWorker"),i=t("./GenericWorker"),a=t("../base64"),s=t("../support"),c=t("../external"),u=null;if(s.nodestream)try{u=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function l(t,e,r){var a=e;switch(e){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=e,this._mimeType=r,n.checkSupport(a),this._worker=t.pipe(new o(a)),t.lock()}catch(t){this._worker=new i("error"),this._worker.error(t)}}l.prototype={accumulate:function(t){return function(t,e){return new c.Promise((function(r,o){var i=[],s=t._internalType,c=t._outputType,u=t._mimeType;t.on("data",(function(t,r){i.push(t),e&&e(r)})).on("error",(function(t){i=[],o(t)})).on("end",(function(){try{var t=function(t,e,r){switch(t){case"blob":return n.newBlob(n.transformTo("arraybuffer",e),r);case"base64":return a.encode(e);default:return n.transformTo(t,e)}}(c,function(t,e){var r,n=0,o=null,i=0;for(r=0;r<e.length;r++)i+=e[r].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(o=new Uint8Array(i),r=0;r<e.length;r++)o.set(e[r],n),n+=e[r].length;return o;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(s,i),u);r(t)}catch(t){o(t)}i=[]})).resume()}))}(this,t)},on:function(t,e){var r=this;return"data"===t?this._worker.on(t,(function(t){e.call(r,t.data,t.meta)})):this._worker.on(t,(function(){n.delay(e,arguments,r)})),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof Buffer,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:"application/zip"}).size}catch(t){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(n),r.blob=0===o.getBlob("application/zip").size}catch(t){r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch(t){r.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,r){"use strict";for(var n=t("./utils"),o=t("./support"),i=t("./nodejsUtils"),a=t("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function l(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(t){return o.nodebuffer?i.newBufferFrom(t,"utf-8"):function(t){var e,r,n,i,a,s=t.length,c=0;for(i=0;i<s;i++)55296==(64512&(r=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(n=t.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),c+=r<128?1:r<2048?2:r<65536?3:4;for(e=o.uint8array?new Uint8Array(c):new Array(c),i=a=0;a<c;i++)55296==(64512&(r=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(n=t.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?e[a++]=r:(r<2048?e[a++]=192|r>>>6:(r<65536?e[a++]=224|r>>>12:(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63),e[a++]=128|r>>>6&63),e[a++]=128|63&r);return e}(t)},r.utf8decode=function(t){return o.nodebuffer?n.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,r,o,i,a=t.length,c=new Array(2*a);for(e=r=0;e<a;)if((o=t[e++])<128)c[r++]=o;else if(4<(i=s[o]))c[r++]=65533,e+=i-1;else{for(o&=2===i?31:3===i?15:7;1<i&&e<a;)o=o<<6|63&t[e++],i--;1<i?c[r++]=65533:o<65536?c[r++]=o:(o-=65536,c[r++]=55296|o>>10&1023,c[r++]=56320|1023&o)}return c.length!==r&&(c.subarray?c=c.subarray(0,r):c.length=r),n.applyFromCharCode(c)}(t=n.transformTo(o.uint8array?"uint8array":"array",t))},n.inherits(u,a),u.prototype.processChunk=function(t){var e=n.transformTo(o.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var i=e;(e=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),e.set(i,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var a=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0||0===r?e:r+s[t[r]]>e?r:e}(e),c=e;a!==e.length&&(o.uint8array?(c=e.subarray(0,a),this.leftOver=e.subarray(a,e.length)):(c=e.slice(0,a),this.leftOver=e.slice(a,e.length))),this.push({data:r.utf8decode(c),meta:t.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=u,n.inherits(l,a),l.prototype.processChunk=function(t){this.push({data:r.utf8encode(t.data),meta:t.meta})},r.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,r){"use strict";var n=t("./support"),o=t("./base64"),i=t("./nodejsUtils"),a=t("./external");function s(t){return t}function c(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}t("setimmediate"),r.newBlob=function(t,e){r.checkSupport("blob");try{return new Blob([t],{type:e})}catch(r){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(t),n.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(t,e,r){var n=[],o=0,i=t.length;if(i<=r)return String.fromCharCode.apply(null,t);for(;o<i;)"array"===e||"nodebuffer"===e?n.push(String.fromCharCode.apply(null,t.slice(o,Math.min(o+r,i)))):n.push(String.fromCharCode.apply(null,t.subarray(o,Math.min(o+r,i)))),o+=r;return n.join("")},stringifyByChar:function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(t){return!1}}()}};function l(t){var e=65536,n=r.getTypeOf(t),o=!0;if("uint8array"===n?o=u.applyCanBeUsed.uint8array:"nodebuffer"===n&&(o=u.applyCanBeUsed.nodebuffer),o)for(;1<e;)try{return u.stringifyByChunk(t,n,e)}catch(t){e=Math.floor(e/2)}return u.stringifyByChar(t)}function f(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}r.applyFromCharCode=l;var h={};h.string={string:s,array:function(t){return c(t,new Array(t.length))},arraybuffer:function(t){return h.string.uint8array(t).buffer},uint8array:function(t){return c(t,new Uint8Array(t.length))},nodebuffer:function(t){return c(t,i.allocBuffer(t.length))}},h.array={string:l,array:s,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return i.newBufferFrom(t)}},h.arraybuffer={string:function(t){return l(new Uint8Array(t))},array:function(t){return f(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:s,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return i.newBufferFrom(new Uint8Array(t))}},h.uint8array={string:l,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:s,nodebuffer:function(t){return i.newBufferFrom(t)}},h.nodebuffer={string:l,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return h.nodebuffer.uint8array(t).buffer},uint8array:function(t){return f(t,new Uint8Array(t.length))},nodebuffer:s},r.transformTo=function(t,e){if(e=e||"",!t)return e;r.checkSupport(t);var n=r.getTypeOf(e);return h[n][t](e)},r.resolve=function(t){for(var e=t.split("/"),r=[],n=0;n<e.length;n++){var o=e[n];"."===o||""===o&&0!==n&&n!==e.length-1||(".."===o?r.pop():r.push(o))}return r.join("/")},r.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":n.nodebuffer&&i.isBuffer(t)?"nodebuffer":n.uint8array&&t instanceof Uint8Array?"uint8array":n.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(t){if(!n[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(t){var e,r,n="";for(r=0;r<(t||"").length;r++)n+="\\x"+((e=t.charCodeAt(r))<16?"0":"")+e.toString(16).toUpperCase();return n},r.delay=function(t,e,r){setImmediate((function(){t.apply(r||null,e||[])}))},r.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r},r.extend=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],e)&&void 0===r[e]&&(r[e]=arguments[t][e]);return r},r.prepareContent=function(t,e,i,s,u){return a.Promise.resolve(e).then((function(t){return n.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new a.Promise((function(e,r){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.onerror=function(t){r(t.target.error)},n.readAsArrayBuffer(t)})):t})).then((function(e){var l=r.getTypeOf(e);return l?("arraybuffer"===l?e=r.transformTo("uint8array",e):"string"===l&&(u?e=o.decode(e):i&&!0!==s&&(e=function(t){return c(t,n.uint8array?new Uint8Array(t.length):new Array(t.length))}(e))),e):a.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,e,r){"use strict";var n=t("./reader/readerFor"),o=t("./utils"),i=t("./signature"),a=t("./zipEntry"),s=t("./support");function c(t){this.files=[],this.loadOptions=t}c.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var n=this.reader.readString(4)===e;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.uint8array?"uint8array":"array",r=o.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,n=this.zip64EndOfCentralSize-44;0<n;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=e-r;if(0<n)this.isSignature(e,i.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(t){this.reader=n(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,e,r){"use strict";var n=t("./reader/readerFor"),o=t("./utils"),i=t("./compressedObject"),a=t("./crc32"),s=t("./utf8"),c=t("./compressions"),u=t("./support");function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in c)if(Object.prototype.hasOwnProperty.call(c,e)&&c[e].magic===t)return c[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,r,n,o=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<o;)e=t.readInt(2),r=t.readInt(2),n=t.readData(r),this.extraFields[e]={id:e,length:r,value:n};t.setIndex(o)},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var r=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var i=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=n(t.value);return 1!==e.readInt(1)||a(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=n(t.value);return 1!==e.readInt(1)||a(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},e.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,r){"use strict";function n(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var o=t("./stream/StreamHelper"),i=t("./stream/DataWorker"),a=t("./utf8"),s=t("./compressedObject"),c=t("./stream/GenericWorker");n.prototype={internalStream:function(t){var e=null,r="string";try{if(!t)throw new Error("No output type specified.");var n="string"===(r=t.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),e=this._decompressWorker();var i=!this._dataBinary;i&&!n&&(e=e.pipe(new a.Utf8EncodeWorker)),!i&&n&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new c("error")).error(t)}return new o(e,r,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new i(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<u.length;f++)n.prototype[u[f]]=l;e.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,n){(function(t){"use strict";var r,n,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var i=0,a=new o(l),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),r=function(){s.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var c=new t.MessageChannel;c.port1.onmessage=l,r=function(){c.port2.postMessage(0)}}var u=[];function l(){var t,e;n=!0;for(var r=u.length;r;){for(e=u,u=[],t=-1;++t<r;)e[t]();r=u.length}n=!1}e.exports=function(t){1!==u.push(t)||n||r()}}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,r){"use strict";var n=t("immediate");function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,t!==o&&d(this,t)}function l(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(t,e,r){n((function(){var n;try{n=e(r)}catch(n){return i.reject(t,n)}n===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,n)}))}function h(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var r=!1;function n(e){r||(r=!0,i.reject(t,e))}function o(e){r||(r=!0,i.resolve(t,e))}var a=p((function(){e(o,n)}));"error"===a.status&&n(a.value)}function p(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}(e.exports=u).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(r){return e.resolve(t()).then((function(){return r}))}),(function(r){return e.resolve(t()).then((function(){throw r}))}))},u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var r=new this.constructor(o);return this.state!==c?f(r,this.state===s?t:e,this.outcome):this.queue.push(new l(r,t,e)),r},l.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){i.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},i.resolve=function(t,e){var r=p(h,e);if("error"===r.status)return i.reject(t,r.value);var n=r.value;if(n)d(t,n);else{t.state=s,t.outcome=e;for(var o=-1,a=t.queue.length;++o<a;)t.queue[o].callFulfilled(e)}return t},i.reject=function(t,e){t.state=a,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},u.resolve=function(t){return t instanceof this?t:i.resolve(new this(o),t)},u.reject=function(t){var e=new this(o);return i.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,c=-1,u=new this(o);++c<r;)l(t[c],c);return u;function l(t,o){e.resolve(t).then((function(t){a[o]=t,++s!==r||n||(n=!0,i.resolve(u,a))}),(function(t){n||(n=!0,i.reject(u,t))}))}},u.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,r=!1;if(!e)return this.resolve([]);for(var n,a=-1,s=new this(o);++a<e;)n=t[a],this.resolve(n).then((function(t){r||(r=!0,i.resolve(s,t))}),(function(t){r||(r=!0,i.reject(s,t))}));return s}},{immediate:36}],38:[function(t,e,r){"use strict";var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,r){"use strict";var n=t("./zlib/deflate"),o=t("./utils/common"),i=t("./utils/strings"),a=t("./zlib/messages"),s=t("./zlib/zstream"),c=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=o.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==r)throw new Error(a[r]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var l;if(l="string"==typeof e.dictionary?i.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(r=n.deflateSetDictionary(this.strm,l)))throw new Error(a[r]);this._dict_set=!0}}function l(t,e){var r=new u(e);if(r.push(t,!0),r.err)throw r.msg||a[r.err];return r.result}u.prototype.push=function(t,e){var r,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=i.string2buf(t):"[object ArrayBuffer]"===c.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(u),s.next_out=0,s.avail_out=u),1!==(r=n.deflate(s,a))&&0!==r)return this.onEnd(r),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(i.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===a?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==a||(this.onEnd(0),!(s.avail_out=0))},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=u,r.deflate=l,r.deflateRaw=function(t,e){return(e=e||{}).raw=!0,l(t,e)},r.gzip=function(t,e){return(e=e||{}).gzip=!0,l(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,r){"use strict";var n=t("./zlib/inflate"),o=t("./utils/common"),i=t("./utils/strings"),a=t("./zlib/constants"),s=t("./zlib/messages"),c=t("./zlib/zstream"),u=t("./zlib/gzheader"),l=Object.prototype.toString;function f(t){if(!(this instanceof f))return new f(t);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,e.windowBits);if(r!==a.Z_OK)throw new Error(s[r]);this.header=new u,n.inflateGetHeader(this.strm,this.header)}function h(t,e){var r=new f(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}f.prototype.push=function(t,e){var r,s,c,u,f,h,d=this.strm,p=this.options.chunkSize,y=this.options.dictionary,v=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?d.input=i.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new o.Buf8(p),d.next_out=0,d.avail_out=p),(r=n.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&y&&(h="string"==typeof y?i.string2buf(y):"[object ArrayBuffer]"===l.call(y)?new Uint8Array(y):y,r=n.inflateSetDictionary(this.strm,h)),r===a.Z_BUF_ERROR&&!0===v&&(r=a.Z_OK,v=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),!(this.ended=!0);d.next_out&&(0!==d.avail_out&&r!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=i.utf8border(d.output,d.next_out),u=d.next_out-c,f=i.buf2string(d.output,c),d.next_out=u,d.avail_out=p-u,u&&o.arraySet(d.output,d.output,c,u,0),this.onData(f)):this.onData(o.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(v=!0)}while((0<d.avail_in||0===d.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(d.avail_out=0))},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=f,r.inflate=h,r.inflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},r.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,r,n,o){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),o);else for(var i=0;i<n;i++)t[o+i]=e[r+i]},flattenChunks:function(t){var e,r,n,o,i,a;for(e=n=0,r=t.length;e<r;e++)n+=t[e].length;for(a=new Uint8Array(n),e=o=0,r=t.length;e<r;e++)i=t[e],a.set(i,o),o+=i.length;return a}},i={arraySet:function(t,e,r,n,o){for(var i=0;i<n;i++)t[o+i]=e[r+i]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,o)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,i))},r.setTyped(n)},{}],42:[function(t,e,r){"use strict";var n=t("./common"),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){i=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(t,e){if(e<65537&&(t.subarray&&i||!t.subarray&&o))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var r="",a=0;a<e;a++)r+=String.fromCharCode(t[a]);return r}a[254]=a[254]=1,r.string2buf=function(t){var e,r,o,i,a,s=t.length,c=0;for(i=0;i<s;i++)55296==(64512&(r=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=t.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(o-56320),i++),c+=r<128?1:r<2048?2:r<65536?3:4;for(e=new n.Buf8(c),i=a=0;a<c;i++)55296==(64512&(r=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=t.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(o-56320),i++),r<128?e[a++]=r:(r<2048?e[a++]=192|r>>>6:(r<65536?e[a++]=224|r>>>12:(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63),e[a++]=128|r>>>6&63),e[a++]=128|63&r);return e},r.buf2binstring=function(t){return c(t,t.length)},r.binstring2buf=function(t){for(var e=new n.Buf8(t.length),r=0,o=e.length;r<o;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,n,o,i,s=e||t.length,u=new Array(2*s);for(r=n=0;r<s;)if((o=t[r++])<128)u[n++]=o;else if(4<(i=a[o]))u[n++]=65533,r+=i-1;else{for(o&=2===i?31:3===i?15:7;1<i&&r<s;)o=o<<6|63&t[r++],i--;1<i?u[n++]=65533:o<65536?u[n++]=o:(o-=65536,u[n++]=55296|o>>10&1023,u[n++]=56320|1023&o)}return c(u,n)},r.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0||0===r?e:r+a[t[r]]>e?r:e}},{"./common":41}],43:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){for(var o=65535&t|0,i=t>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;i=i+(o=o+e[n++]|0)|0,--a;);o%=65521,i%=65521}return o|i<<16|0}},{}],44:[function(t,e,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,r){"use strict";var n=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e,r,o){var i=n,a=o+r;t^=-1;for(var s=o;s<a;s++)t=t>>>8^i[255&(t^e[s])];return-1^t}},{}],46:[function(t,e,r){"use strict";var n,o=t("../utils/common"),i=t("./trees"),a=t("./adler32"),s=t("./crc32"),c=t("./messages"),u=-2,l=258,f=262,h=113;function d(t,e){return t.msg=c[e],e}function p(t){return(t<<1)-(4<t?9:0)}function y(t){for(var e=t.length;0<=--e;)t[e]=0}function v(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(o.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function m(t,e){i._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,v(t.strm)}function g(t,e){t.pending_buf[t.pending++]=e}function b(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function w(t,e){var r,n,o=t.max_chain_length,i=t.strstart,a=t.prev_length,s=t.nice_match,c=t.strstart>t.w_size-f?t.strstart-(t.w_size-f):0,u=t.window,h=t.w_mask,d=t.prev,p=t.strstart+l,y=u[i+a-1],v=u[i+a];t.prev_length>=t.good_match&&(o>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(r=e)+a]===v&&u[r+a-1]===y&&u[r]===u[i]&&u[++r]===u[i+1]){i+=2,r++;do{}while(u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&i<p);if(n=l-(p-i),i=p-l,a<n){if(t.match_start=e,s<=(a=n))break;y=u[i+a-1],v=u[i+a]}}}while((e=d[e&h])>c&&0!=--o);return a<=t.lookahead?a:t.lookahead}function x(t){var e,r,n,i,c,u,l,h,d,p,y=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=y+(y-f)){for(o.arraySet(t.window,t.window,y,y,0),t.match_start-=y,t.strstart-=y,t.block_start-=y,e=r=t.hash_size;n=t.head[--e],t.head[e]=y<=n?n-y:0,--r;);for(e=r=y;n=t.prev[--e],t.prev[e]=y<=n?n-y:0,--r;);i+=y}if(0===t.strm.avail_in)break;if(u=t.strm,l=t.window,h=t.strstart+t.lookahead,p=void 0,(d=i)<(p=u.avail_in)&&(p=d),r=0===p?0:(u.avail_in-=p,o.arraySet(l,u.input,u.next_in,p,h),1===u.state.wrap?u.adler=a(u.adler,l,p,h):2===u.state.wrap&&(u.adler=s(u.adler,l,p,h)),u.next_in+=p,u.total_in+=p,p),t.lookahead+=r,t.lookahead+t.insert>=3)for(c=t.strstart-t.insert,t.ins_h=t.window[c],t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+3-1])&t.hash_mask,t.prev[c&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=c,c++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<f&&0!==t.strm.avail_in)}function _(t,e){for(var r,n;;){if(t.lookahead<f){if(x(t),t.lookahead<f&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-f&&(t.match_length=w(t,r)),t.match_length>=3)if(n=i._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}function O(t,e){for(var r,n,o;;){if(t.lookahead<f){if(x(t),t.lookahead<f&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-f&&(t.match_length=w(t,r),t.match_length<=5&&(1===t.strategy||3===t.match_length&&4096<t.strstart-t.match_start)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){for(o=t.strstart+t.lookahead-3,n=i._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(m(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=i._tr_tally(t,0,t.window[t.strstart-1]))&&m(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=i._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}function S(t,e,r,n,o){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=o}function k(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(1146),this.dyn_dtree=new o.Buf16(122),this.bl_tree=new o.Buf16(78),y(this.dyn_ltree),y(this.dyn_dtree),y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(16),this.heap=new o.Buf16(573),y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(573),y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function j(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:h,t.adler=2===e.wrap?0:1,e.last_flush=0,i._tr_init(e),0):d(t,u)}function P(t){var e=j(t);return 0===e&&function(t){t.window_size=2*t.w_size,y(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),e}function E(t,e,r,n,i,a){if(!t)return u;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),i<1||9<i||8!==r||n<8||15<n||e<0||9<e||a<0||4<a)return d(t,u);8===n&&(n=9);var c=new k;return(t.state=c).strm=t,c.wrap=s,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=i+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new o.Buf8(2*c.w_size),c.head=new o.Buf16(c.hash_size),c.prev=new o.Buf16(c.w_size),c.lit_bufsize=1<<i+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new o.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=a,c.method=r,P(t)}n=[new S(0,0,0,0,(function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(x(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,m(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-f&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(m(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(m(t,!1),t.strm.avail_out),1)})),new S(4,4,8,4,_),new S(4,5,16,8,_),new S(4,6,32,32,_),new S(4,4,16,16,O),new S(8,16,32,32,O),new S(8,16,128,128,O),new S(8,32,128,256,O),new S(32,128,258,1024,O),new S(32,258,258,4096,O)],r.deflateInit=function(t,e){return E(t,e,8,15,8,0)},r.deflateInit2=E,r.deflateReset=P,r.deflateResetKeep=j,r.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?u:(t.state.gzhead=e,0):u},r.deflate=function(t,e){var r,o,a,c;if(!t||!t.state||5<e||e<0)return t?d(t,u):u;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||666===o.status&&4!==e)return d(t,0===t.avail_out?-5:u);if(o.strm=t,r=o.last_flush,o.last_flush=e,42===o.status)if(2===o.wrap)t.adler=0,g(o,31),g(o,139),g(o,8),o.gzhead?(g(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),g(o,255&o.gzhead.time),g(o,o.gzhead.time>>8&255),g(o,o.gzhead.time>>16&255),g(o,o.gzhead.time>>24&255),g(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),g(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(g(o,255&o.gzhead.extra.length),g(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=s(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(g(o,0),g(o,0),g(o,0),g(o,0),g(o,0),g(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),g(o,3),o.status=h);else{var f=8+(o.w_bits-8<<4)<<8;f|=(2<=o.strategy||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(f|=32),f+=31-f%31,o.status=h,b(o,f),0!==o.strstart&&(b(o,t.adler>>>16),b(o,65535&t.adler)),t.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),v(t),a=o.pending,o.pending!==o.pending_buf_size));)g(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),v(t),a=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,g(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),0===c&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),v(t),a=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,g(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),0===c&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&v(t),o.pending+2<=o.pending_buf_size&&(g(o,255&t.adler),g(o,t.adler>>8&255),t.adler=0,o.status=h)):o.status=h),0!==o.pending){if(v(t),0===t.avail_out)return o.last_flush=-1,0}else if(0===t.avail_in&&p(e)<=p(r)&&4!==e)return d(t,-5);if(666===o.status&&0!==t.avail_in)return d(t,-5);if(0!==t.avail_in||0!==o.lookahead||0!==e&&666!==o.status){var w=2===o.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(x(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,r=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}(o,e):3===o.strategy?function(t,e){for(var r,n,o,a,s=t.window;;){if(t.lookahead<=l){if(x(t),t.lookahead<=l&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&0<t.strstart&&(n=s[o=t.strstart-1])===s[++o]&&n===s[++o]&&n===s[++o]){a=t.strstart+l;do{}while(n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&o<a);t.match_length=l-(a-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=i._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}(o,e):n[o.level].func(o,e);if(3!==w&&4!==w||(o.status=666),1===w||3===w)return 0===t.avail_out&&(o.last_flush=-1),0;if(2===w&&(1===e?i._tr_align(o):5!==e&&(i._tr_stored_block(o,0,0,!1),3===e&&(y(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),v(t),0===t.avail_out))return o.last_flush=-1,0}return 4!==e?0:o.wrap<=0?1:(2===o.wrap?(g(o,255&t.adler),g(o,t.adler>>8&255),g(o,t.adler>>16&255),g(o,t.adler>>24&255),g(o,255&t.total_in),g(o,t.total_in>>8&255),g(o,t.total_in>>16&255),g(o,t.total_in>>24&255)):(b(o,t.adler>>>16),b(o,65535&t.adler)),v(t),0<o.wrap&&(o.wrap=-o.wrap),0!==o.pending?0:1)},r.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&e!==h&&666!==e?d(t,u):(t.state=null,e===h?d(t,-3):0):u},r.deflateSetDictionary=function(t,e){var r,n,i,s,c,l,f,h,d=e.length;if(!t||!t.state)return u;if(2===(s=(r=t.state).wrap)||1===s&&42!==r.status||r.lookahead)return u;for(1===s&&(t.adler=a(t.adler,e,d,0)),r.wrap=0,d>=r.w_size&&(0===s&&(y(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new o.Buf8(r.w_size),o.arraySet(h,e,d-r.w_size,r.w_size,0),e=h,d=r.w_size),c=t.avail_in,l=t.next_in,f=t.input,t.avail_in=d,t.next_in=0,t.input=e,x(r);r.lookahead>=3;){for(n=r.strstart,i=r.lookahead-2;r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--i;);r.strstart=n,r.lookahead=2,x(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=l,t.input=f,t.avail_in=c,r.wrap=s,0},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,r){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,r){"use strict";e.exports=function(t,e){var r,n,o,i,a,s,c,u,l,f,h,d,p,y,v,m,g,b,w,x,_,O,S,k,j;r=t.state,n=t.next_in,k=t.input,o=n+(t.avail_in-5),i=t.next_out,j=t.output,a=i-(e-t.avail_out),s=i+(t.avail_out-257),c=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,h=r.window,d=r.hold,p=r.bits,y=r.lencode,v=r.distcode,m=(1<<r.lenbits)-1,g=(1<<r.distbits)-1;t:do{p<15&&(d+=k[n++]<<p,p+=8,d+=k[n++]<<p,p+=8),b=y[d&m];e:for(;;){if(d>>>=w=b>>>24,p-=w,0==(w=b>>>16&255))j[i++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=y[(65535&b)+(d&(1<<w)-1)];continue e}if(32&w){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}x=65535&b,(w&=15)&&(p<w&&(d+=k[n++]<<p,p+=8),x+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=k[n++]<<p,p+=8,d+=k[n++]<<p,p+=8),b=v[d&g];r:for(;;){if(d>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=v[(65535&b)+(d&(1<<w)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(_=65535&b,p<(w&=15)&&(d+=k[n++]<<p,(p+=8)<w&&(d+=k[n++]<<p,p+=8)),c<(_+=d&(1<<w)-1)){t.msg="invalid distance too far back",r.mode=30;break t}if(d>>>=w,p-=w,(w=i-a)<_){if(l<(w=_-w)&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(S=h,(O=0)===f){if(O+=u-w,w<x){for(x-=w;j[i++]=h[O++],--w;);O=i-_,S=j}}else if(f<w){if(O+=u+f-w,(w-=f)<x){for(x-=w;j[i++]=h[O++],--w;);if(O=0,f<x){for(x-=w=f;j[i++]=h[O++],--w;);O=i-_,S=j}}}else if(O+=f-w,w<x){for(x-=w;j[i++]=h[O++],--w;);O=i-_,S=j}for(;2<x;)j[i++]=S[O++],j[i++]=S[O++],j[i++]=S[O++],x-=3;x&&(j[i++]=S[O++],1<x&&(j[i++]=S[O++]))}else{for(O=i-_;j[i++]=j[O++],j[i++]=j[O++],j[i++]=j[O++],2<(x-=3););x&&(j[i++]=j[O++],1<x&&(j[i++]=j[O++]))}break}}break}}while(n<o&&i<s);n-=x=p>>3,d&=(1<<(p-=x<<3))-1,t.next_in=n,t.next_out=i,t.avail_in=n<o?o-n+5:5-(n-o),t.avail_out=i<s?s-i+257:257-(i-s),r.hold=d,r.bits=p}},{}],49:[function(t,e,r){"use strict";var n=t("../utils/common"),o=t("./adler32"),i=t("./crc32"),a=t("./inffast"),s=t("./inftrees"),c=-2;function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(852),e.distcode=e.distdyn=new n.Buf32(592),e.sane=1,e.back=-1,0):c}function h(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,f(t)):c}function d(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?c:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,h(t))):c}function p(t,e){var r,n;return t?(n=new l,(t.state=n).window=null,0!==(r=d(t,e))&&(t.state=null),r):c}var y,v,m=!0;function g(t){if(m){var e;for(y=new n.Buf32(512),v=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,y,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,v,0,t.work,{bits:5}),m=!1}t.lencode=y,t.lenbits=9,t.distcode=v,t.distbits=5}function b(t,e,r,o){var i,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),o>=a.wsize?(n.arraySet(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(o<(i=a.wsize-a.wnext)&&(i=o),n.arraySet(a.window,e,r-o,i,a.wnext),(o-=i)?(n.arraySet(a.window,e,r-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}r.inflateReset=h,r.inflateReset2=d,r.inflateResetKeep=f,r.inflateInit=function(t){return p(t,15)},r.inflateInit2=p,r.inflate=function(t,e){var r,l,f,h,d,p,y,v,m,w,x,_,O,S,k,j,P,E,I,C,D,A,N,L,T=0,z=new n.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return c;12===(r=t.state).mode&&(r.mode=13),d=t.next_out,f=t.output,y=t.avail_out,h=t.next_in,l=t.input,p=t.avail_in,v=r.hold,m=r.bits,w=p,x=y,A=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;m<16;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}if(2&r.wrap&&35615===v){z[r.check=0]=255&v,z[1]=v>>>8&255,r.check=i(r.check,z,2,0),m=v=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&v)<<8)+(v>>8))%31){t.msg="incorrect header check",r.mode=30;break}if(8!=(15&v)){t.msg="unknown compression method",r.mode=30;break}if(m-=4,D=8+(15&(v>>>=4)),0===r.wbits)r.wbits=D;else if(D>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<D,t.adler=r.check=1,r.mode=512&v?10:12,m=v=0;break;case 2:for(;m<16;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}if(r.flags=v,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=v>>8&1),512&r.flags&&(z[0]=255&v,z[1]=v>>>8&255,r.check=i(r.check,z,2,0)),m=v=0,r.mode=3;case 3:for(;m<32;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}r.head&&(r.head.time=v),512&r.flags&&(z[0]=255&v,z[1]=v>>>8&255,z[2]=v>>>16&255,z[3]=v>>>24&255,r.check=i(r.check,z,4,0)),m=v=0,r.mode=4;case 4:for(;m<16;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}r.head&&(r.head.xflags=255&v,r.head.os=v>>8),512&r.flags&&(z[0]=255&v,z[1]=v>>>8&255,r.check=i(r.check,z,2,0)),m=v=0,r.mode=5;case 5:if(1024&r.flags){for(;m<16;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}r.length=v,r.head&&(r.head.extra_len=v),512&r.flags&&(z[0]=255&v,z[1]=v>>>8&255,r.check=i(r.check,z,2,0)),m=v=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(p<(_=r.length)&&(_=p),_&&(r.head&&(D=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,l,h,_,D)),512&r.flags&&(r.check=i(r.check,l,_,h)),p-=_,h+=_,r.length-=_),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===p)break t;for(_=0;D=l[h+_++],r.head&&D&&r.length<65536&&(r.head.name+=String.fromCharCode(D)),D&&_<p;);if(512&r.flags&&(r.check=i(r.check,l,_,h)),p-=_,h+=_,D)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===p)break t;for(_=0;D=l[h+_++],r.head&&D&&r.length<65536&&(r.head.comment+=String.fromCharCode(D)),D&&_<p;);if(512&r.flags&&(r.check=i(r.check,l,_,h)),p-=_,h+=_,D)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;m<16;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}if(v!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}m=v=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;m<32;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}t.adler=r.check=u(v),m=v=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=d,t.avail_out=y,t.next_in=h,t.avail_in=p,r.hold=v,r.bits=m,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break t;case 13:if(r.last){v>>>=7&m,m-=7&m,r.mode=27;break}for(;m<3;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}switch(r.last=1&v,m-=1,3&(v>>>=1)){case 0:r.mode=14;break;case 1:if(g(r),r.mode=20,6!==e)break;v>>>=2,m-=2;break t;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}v>>>=2,m-=2;break;case 14:for(v>>>=7&m,m-=7&m;m<32;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}if((65535&v)!=(v>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&v,m=v=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(_=r.length){if(p<_&&(_=p),y<_&&(_=y),0===_)break t;n.arraySet(f,l,h,_,d),p-=_,h+=_,y-=_,d+=_,r.length-=_;break}r.mode=12;break;case 17:for(;m<14;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}if(r.nlen=257+(31&v),v>>>=5,m-=5,r.ndist=1+(31&v),v>>>=5,m-=5,r.ncode=4+(15&v),v>>>=4,m-=4,286<r.nlen||30<r.ndist){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;m<3;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}r.lens[B[r.have++]]=7&v,v>>>=3,m-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,N={bits:r.lenbits},A=s(0,r.lens,0,19,r.lencode,0,r.work,N),r.lenbits=N.bits,A){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;j=(T=r.lencode[v&(1<<r.lenbits)-1])>>>16&255,P=65535&T,!((k=T>>>24)<=m);){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}if(P<16)v>>>=k,m-=k,r.lens[r.have++]=P;else{if(16===P){for(L=k+2;m<L;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}if(v>>>=k,m-=k,0===r.have){t.msg="invalid bit length repeat",r.mode=30;break}D=r.lens[r.have-1],_=3+(3&v),v>>>=2,m-=2}else if(17===P){for(L=k+3;m<L;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}m-=k,D=0,_=3+(7&(v>>>=k)),v>>>=3,m-=3}else{for(L=k+7;m<L;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}m-=k,D=0,_=11+(127&(v>>>=k)),v>>>=7,m-=7}if(r.have+_>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;_--;)r.lens[r.have++]=D}}if(30===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,N={bits:r.lenbits},A=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,N),r.lenbits=N.bits,A){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,N={bits:r.distbits},A=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,N),r.distbits=N.bits,A){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(6<=p&&258<=y){t.next_out=d,t.avail_out=y,t.next_in=h,t.avail_in=p,r.hold=v,r.bits=m,a(t,x),d=t.next_out,f=t.output,y=t.avail_out,h=t.next_in,l=t.input,p=t.avail_in,v=r.hold,m=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;j=(T=r.lencode[v&(1<<r.lenbits)-1])>>>16&255,P=65535&T,!((k=T>>>24)<=m);){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}if(j&&0==(240&j)){for(E=k,I=j,C=P;j=(T=r.lencode[C+((v&(1<<E+I)-1)>>E)])>>>16&255,P=65535&T,!(E+(k=T>>>24)<=m);){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}v>>>=E,m-=E,r.back+=E}if(v>>>=k,m-=k,r.back+=k,r.length=P,0===j){r.mode=26;break}if(32&j){r.back=-1,r.mode=12;break}if(64&j){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&j,r.mode=22;case 22:if(r.extra){for(L=r.extra;m<L;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}r.length+=v&(1<<r.extra)-1,v>>>=r.extra,m-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;j=(T=r.distcode[v&(1<<r.distbits)-1])>>>16&255,P=65535&T,!((k=T>>>24)<=m);){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}if(0==(240&j)){for(E=k,I=j,C=P;j=(T=r.distcode[C+((v&(1<<E+I)-1)>>E)])>>>16&255,P=65535&T,!(E+(k=T>>>24)<=m);){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}v>>>=E,m-=E,r.back+=E}if(v>>>=k,m-=k,r.back+=k,64&j){t.msg="invalid distance code",r.mode=30;break}r.offset=P,r.extra=15&j,r.mode=24;case 24:if(r.extra){for(L=r.extra;m<L;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}r.offset+=v&(1<<r.extra)-1,v>>>=r.extra,m-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===y)break t;if(_=x-y,r.offset>_){if((_=r.offset-_)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}O=_>r.wnext?(_-=r.wnext,r.wsize-_):r.wnext-_,_>r.length&&(_=r.length),S=r.window}else S=f,O=d-r.offset,_=r.length;for(y<_&&(_=y),y-=_,r.length-=_;f[d++]=S[O++],--_;);0===r.length&&(r.mode=21);break;case 26:if(0===y)break t;f[d++]=r.length,y--,r.mode=21;break;case 27:if(r.wrap){for(;m<32;){if(0===p)break t;p--,v|=l[h++]<<m,m+=8}if(x-=y,t.total_out+=x,r.total+=x,x&&(t.adler=r.check=r.flags?i(r.check,f,x,d-x):o(r.check,f,x,d-x)),x=y,(r.flags?v:u(v))!==r.check){t.msg="incorrect data check",r.mode=30;break}m=v=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;m<32;){if(0===p)break t;p--,v+=l[h++]<<m,m+=8}if(v!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}m=v=0}r.mode=29;case 29:A=1;break t;case 30:A=-3;break t;case 31:return-4;default:return c}return t.next_out=d,t.avail_out=y,t.next_in=h,t.avail_in=p,r.hold=v,r.bits=m,(r.wsize||x!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&b(t,t.output,t.next_out,x-t.avail_out)?(r.mode=31,-4):(w-=t.avail_in,x-=t.avail_out,t.total_in+=w,t.total_out+=x,r.total+=x,r.wrap&&x&&(t.adler=r.check=r.flags?i(r.check,f,x,t.next_out-x):o(r.check,f,x,t.next_out-x)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==w&&0===x||4===e)&&0===A&&(A=-5),A)},r.inflateEnd=function(t){if(!t||!t.state)return c;var e=t.state;return e.window&&(e.window=null),t.state=null,0},r.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?c:((r.head=e).done=!1,0):c},r.inflateSetDictionary=function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?c:11===r.mode&&o(1,e,n,0)!==r.check?-3:b(t,e,n,n)?(r.mode=31,-4):(r.havedict=1,0):c},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,r){"use strict";var n=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,c,u,l,f,h){var d,p,y,v,m,g,b,w,x,_=h.bits,O=0,S=0,k=0,j=0,P=0,E=0,I=0,C=0,D=0,A=0,N=null,L=0,T=new n.Buf16(16),z=new n.Buf16(16),B=null,R=0;for(O=0;O<=15;O++)T[O]=0;for(S=0;S<c;S++)T[e[r+S]]++;for(P=_,j=15;1<=j&&0===T[j];j--);if(j<P&&(P=j),0===j)return u[l++]=20971520,u[l++]=20971520,h.bits=1,0;for(k=1;k<j&&0===T[k];k++);for(P<k&&(P=k),O=C=1;O<=15;O++)if(C<<=1,(C-=T[O])<0)return-1;if(0<C&&(0===t||1!==j))return-1;for(z[1]=0,O=1;O<15;O++)z[O+1]=z[O]+T[O];for(S=0;S<c;S++)0!==e[r+S]&&(f[z[e[r+S]]++]=S);if(g=0===t?(N=B=f,19):1===t?(N=o,L-=257,B=i,R-=257,256):(N=a,B=s,-1),O=k,m=l,I=S=A=0,y=-1,v=(D=1<<(E=P))-1,1===t&&852<D||2===t&&592<D)return 1;for(;;){for(b=O-I,x=f[S]<g?(w=0,f[S]):f[S]>g?(w=B[R+f[S]],N[L+f[S]]):(w=96,0),d=1<<O-I,k=p=1<<E;u[m+(A>>I)+(p-=d)]=b<<24|w<<16|x|0,0!==p;);for(d=1<<O-1;A&d;)d>>=1;if(0!==d?(A&=d-1,A+=d):A=0,S++,0==--T[O]){if(O===j)break;O=e[r+f[S]]}if(P<O&&(A&v)!==y){for(0===I&&(I=P),m+=k,C=1<<(E=O-I);E+I<j&&!((C-=T[E+I])<=0);)E++,C<<=1;if(D+=1<<E,1===t&&852<D||2===t&&592<D)return 1;u[y=A&v]=P<<24|E<<16|m-l|0}}return 0!==A&&(u[m+A]=O-I<<24|64<<16|0),h.bits=P,0}},{"../utils/common":41}],51:[function(t,e,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,r){"use strict";var n=t("../utils/common");function o(t){for(var e=t.length;0<=--e;)t[e]=0}var i=256,a=286,s=30,c=15,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],l=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d=new Array(576);o(d);var p=new Array(60);o(p);var y=new Array(512);o(y);var v=new Array(256);o(v);var m=new Array(29);o(m);var g,b,w,x=new Array(s);function _(t,e,r,n,o){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=t&&t.length}function O(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function S(t){return t<256?y[t]:y[256+(t>>>7)]}function k(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function j(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,k(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function P(t,e,r){j(t,r[2*e],r[2*e+1])}function E(t,e){for(var r=0;r|=1&t,t>>>=1,r<<=1,0<--e;);return r>>>1}function I(t,e,r){var n,o,i=new Array(16),a=0;for(n=1;n<=c;n++)i[n]=a=a+r[n-1]<<1;for(o=0;o<=e;o++){var s=t[2*o+1];0!==s&&(t[2*o]=E(i[s]++,s))}}function C(t){var e;for(e=0;e<a;e++)t.dyn_ltree[2*e]=0;for(e=0;e<s;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function D(t){8<t.bi_valid?k(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function A(t,e,r,n){var o=2*e,i=2*r;return t[o]<t[i]||t[o]===t[i]&&n[e]<=n[r]}function N(t,e,r){for(var n=t.heap[r],o=r<<1;o<=t.heap_len&&(o<t.heap_len&&A(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!A(e,n,t.heap[o],t.depth));)t.heap[r]=t.heap[o],r=o,o<<=1;t.heap[r]=n}function L(t,e,r){var n,o,a,s,c=0;if(0!==t.last_lit)for(;n=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],o=t.pending_buf[t.l_buf+c],c++,0===n?P(t,o,e):(P(t,(a=v[o])+i+1,e),0!==(s=u[a])&&j(t,o-=m[a],s),P(t,a=S(--n),r),0!==(s=l[a])&&j(t,n-=x[a],s)),c<t.last_lit;);P(t,256,e)}function T(t,e){var r,n,o,i=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<u;r++)0!==i[2*r]?(t.heap[++t.heap_len]=l=r,t.depth[r]=0):i[2*r+1]=0;for(;t.heap_len<2;)i[2*(o=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[o]=0,t.opt_len--,s&&(t.static_len-=a[2*o+1]);for(e.max_code=l,r=t.heap_len>>1;1<=r;r--)N(t,i,r);for(o=u;r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],N(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,i[2*o]=i[2*r]+i[2*n],t.depth[o]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,i[2*r+1]=i[2*n+1]=o,t.heap[1]=o++,N(t,i,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,o,i,a,s,u=e.dyn_tree,l=e.max_code,f=e.stat_desc.static_tree,h=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,y=e.stat_desc.max_length,v=0;for(i=0;i<=c;i++)t.bl_count[i]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)y<(i=u[2*u[2*(n=t.heap[r])+1]+1]+1)&&(i=y,v++),u[2*n+1]=i,l<n||(t.bl_count[i]++,a=0,p<=n&&(a=d[n-p]),s=u[2*n],t.opt_len+=s*(i+a),h&&(t.static_len+=s*(f[2*n+1]+a)));if(0!==v){do{for(i=y-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[y]--,v-=2}while(0<v);for(i=y;0!==i;i--)for(n=t.bl_count[i];0!==n;)l<(o=t.heap[--r])||(u[2*o+1]!==i&&(t.opt_len+=(i-u[2*o+1])*u[2*o],u[2*o+1]=i),n--)}}(t,e),I(i,l,t.bl_count)}function z(t,e,r){var n,o,i=-1,a=e[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)o=a,a=e[2*(n+1)+1],++s<c&&o===a||(s<u?t.bl_tree[2*o]+=s:0!==o?(o!==i&&t.bl_tree[2*o]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,i=o,u=(s=0)===a?(c=138,3):o===a?(c=6,3):(c=7,4))}function B(t,e,r){var n,o,i=-1,a=e[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),n=0;n<=r;n++)if(o=a,a=e[2*(n+1)+1],!(++s<c&&o===a)){if(s<u)for(;P(t,o,t.bl_tree),0!=--s;);else 0!==o?(o!==i&&(P(t,o,t.bl_tree),s--),P(t,16,t.bl_tree),j(t,s-3,2)):s<=10?(P(t,17,t.bl_tree),j(t,s-3,3)):(P(t,18,t.bl_tree),j(t,s-11,7));i=o,u=(s=0)===a?(c=138,3):o===a?(c=6,3):(c=7,4)}}o(x);var R=!1;function F(t,e,r,o){j(t,0+(o?1:0),3),function(t,e,r,o){D(t),k(t,r),k(t,~r),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r)}r._tr_init=function(t){R||(function(){var t,e,r,n,o,i=new Array(16);for(n=r=0;n<28;n++)for(m[n]=r,t=0;t<1<<u[n];t++)v[r++]=n;for(v[r-1]=n,n=o=0;n<16;n++)for(x[n]=o,t=0;t<1<<l[n];t++)y[o++]=n;for(o>>=7;n<s;n++)for(x[n]=o<<7,t=0;t<1<<l[n]-7;t++)y[256+o++]=n;for(e=0;e<=c;e++)i[e]=0;for(t=0;t<=143;)d[2*t+1]=8,t++,i[8]++;for(;t<=255;)d[2*t+1]=9,t++,i[9]++;for(;t<=279;)d[2*t+1]=7,t++,i[7]++;for(;t<=287;)d[2*t+1]=8,t++,i[8]++;for(I(d,287,i),t=0;t<s;t++)p[2*t+1]=5,p[2*t]=E(t,5);g=new _(d,u,257,a,c),b=new _(p,l,0,s,c),w=new _(new Array(0),f,0,19,7)}(),R=!0),t.l_desc=new O(t.dyn_ltree,g),t.d_desc=new O(t.dyn_dtree,b),t.bl_desc=new O(t.bl_tree,w),t.bi_buf=0,t.bi_valid=0,C(t)},r._tr_stored_block=F,r._tr_flush_block=function(t,e,r,n){var o,a,s=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<i;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),T(t,t.l_desc),T(t,t.d_desc),s=function(t){var e;for(z(t,t.dyn_ltree,t.l_desc.max_code),z(t,t.dyn_dtree,t.d_desc.max_code),T(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*h[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),o=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=o&&(o=a)):o=a=r+5,r+4<=o&&-1!==e?F(t,e,r,n):4===t.strategy||a===o?(j(t,2+(n?1:0),3),L(t,d,p)):(j(t,4+(n?1:0),3),function(t,e,r,n){var o;for(j(t,e-257,5),j(t,r-1,5),j(t,n-4,4),o=0;o<n;o++)j(t,t.bl_tree[2*h[o]+1],3);B(t,t.dyn_ltree,e-1),B(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),L(t,t.dyn_ltree,t.dyn_dtree)),C(t),n&&D(t)},r._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(v[r]+i+1)]++,t.dyn_dtree[2*S(e)]++),t.last_lit===t.lit_bufsize-1},r._tr_align=function(t){j(t,2,3),P(t,256,d),function(t){16===t.bi_valid?(k(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,n){(function(t){!function(t,e){"use strict";if(!t.setImmediate){var r,n,o,i,a=1,s={},c=!1,u=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,r="[object process]"==={}.toString.call(t.process)?function(t){process.nextTick((function(){h(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?(i="setImmediate$"+Math.random()+"$",t.addEventListener?t.addEventListener("message",d,!1):t.attachEvent("onmessage",d),function(e){t.postMessage(i+e,"*")}):t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){h(t.data)},function(t){o.port2.postMessage(t)}):u&&"onreadystatechange"in u.createElement("script")?(n=u.documentElement,function(t){var e=u.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):function(t){setTimeout(h,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return s[a]=o,r(a),a++},l.clearImmediate=f}function f(t){delete s[t]}function h(t){if(c)setTimeout(h,0,t);else{var e=s[t];if(e){c=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(undefined,r)}}(e)}finally{f(t),c=!1}}}}function d(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(i)&&h(+e.data.slice(i.length))}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},9483:(t,e,r)=>{t.exports=function t(e,r,n){function o(a,s){if(!r[a]){if(!e[a]){if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[a]={exports:{}};e[a][0].call(u.exports,(function(t){return o(e[a][1][t]||t)}),u,u.exports,t,e,r,n)}return r[a].exports}for(var i=void 0,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,n){(function(t){"use strict";var r,n,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var i=0,a=new o(l),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),r=function(){s.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var c=new t.MessageChannel;c.port1.onmessage=l,r=function(){c.port2.postMessage(0)}}var u=[];function l(){var t,e;n=!0;for(var r=u.length;r;){for(e=u,u=[],t=-1;++t<r;)e[t]();r=u.length}n=!1}e.exports=function(t){1!==u.push(t)||n||r()}}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,r){"use strict";var n=t(1);function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,t!==o&&d(this,t)}function l(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(t,e,r){n((function(){var n;try{n=e(r)}catch(e){return i.reject(t,e)}n===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,n)}))}function h(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var r=!1;function n(e){r||(r=!0,i.reject(t,e))}function o(e){r||(r=!0,i.resolve(t,e))}var a=p((function(){e(o,n)}));"error"===a.status&&n(a.value)}function p(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}e.exports=u,u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var r=new this.constructor(o);return this.state!==c?f(r,this.state===s?t:e,this.outcome):this.queue.push(new l(r,t,e)),r},l.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){i.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},i.resolve=function(t,e){var r=p(h,e);if("error"===r.status)return i.reject(t,r.value);var n=r.value;if(n)d(t,n);else{t.state=s,t.outcome=e;for(var o=-1,a=t.queue.length;++o<a;)t.queue[o].callFulfilled(e)}return t},i.reject=function(t,e){t.state=a,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},u.resolve=function(t){return t instanceof this?t:i.resolve(new this(o),t)},u.reject=function(t){var e=new this(o);return i.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,c=-1,u=new this(o);++c<r;)l(t[c],c);return u;function l(t,o){e.resolve(t).then((function(t){a[o]=t,++s!==r||n||(n=!0,i.resolve(u,a))}),(function(t){n||(n=!0,i.reject(u,t))}))}},u.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r,n=t.length,a=!1;if(!n)return this.resolve([]);for(var s=-1,c=new this(o);++s<n;)r=t[s],e.resolve(r).then((function(t){a||(a=!0,i.resolve(c,t))}),(function(t){a||(a=!0,i.reject(c,t))}));return c}},{1:1}],3:[function(t,e,n){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function i(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<t.length;n+=1)r.append(t[n]);return r.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var a=Promise;function s(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function c(t,e,r){"function"==typeof e&&t.then(e),"function"==typeof r&&t.catch(r)}function u(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var f="local-forage-detect-blob-support",h=void 0,d={},p=Object.prototype.toString,y="readonly",v="readwrite";function m(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),o=0;o<e;o++)n[o]=t.charCodeAt(o);return r}function g(t){return"boolean"==typeof h?a.resolve(h):function(t){return new a((function(e){var r=t.transaction(f,v),n=i([""]);r.objectStore(f).put(n,"key"),r.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},r.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);e(r||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return h=t}))}function b(t){var e=d[t.name],r={};r.promise=new a((function(t,e){r.resolve=t,r.reject=e})),e.deferredOperations.push(r),e.dbReady?e.dbReady=e.dbReady.then((function(){return r.promise})):e.dbReady=r.promise}function w(t){var e=d[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function x(t,e){var r=d[t.name].deferredOperations.pop();if(r)return r.reject(e),r.promise}function _(t,e){return new a((function(r,n){if(d[t.name]=d[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return r(t.db);b(t),t.db.close()}var i=[t.name];e&&i.push(t.version);var a=o.open.apply(o,i);e&&(a.onupgradeneeded=function(e){var r=a.result;try{r.createObjectStore(t.storeName),e.oldVersion<=1&&r.createObjectStore(f)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),a.onerror=function(t){t.preventDefault(),n(a.error)},a.onsuccess=function(){var e=a.result;e.onversionchange=function(t){t.target.close()},r(e),w(t)}}))}function O(t){return _(t,!1)}function S(t){return _(t,!0)}function k(t,e){if(!t.db)return!0;var r=!t.db.objectStoreNames.contains(t.storeName),n=t.version<t.db.version,o=t.version>t.db.version;if(n&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||r){if(r){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function j(t){return i([m(atob(t.data))],{type:t.type})}function P(t){return t&&t.__local_forage_encoded_blob}function E(t){var e=this,r=e._initReady().then((function(){var t=d[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return c(r,t,t),r}function I(t,e,r,n){void 0===n&&(n=1);try{var o=t.db.transaction(t.storeName,e);r(null,o)}catch(o){if(n>0&&(!t.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return a.resolve().then((function(){if(!t.db||"NotFoundError"===o.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),S(t)})).then((function(){return function(t){b(t);for(var e=d[t.name],r=e.forages,n=0;n<r.length;n++){var o=r[n];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return t.db=null,O(t).then((function(e){return t.db=e,k(t)?S(t):e})).then((function(n){t.db=e.db=n;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=n})).catch((function(e){throw x(t,e),e}))}(t).then((function(){I(t,e,r,n-1)}))})).catch(r);r(o)}}var C={_driver:"asyncStorage",_initStorage:function(t){var e=this,r={db:null};if(t)for(var n in t)r[n]=t[n];var o=d[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},d[r.name]=o),o.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=E);var i=[];function s(){return a.resolve()}for(var c=0;c<o.forages.length;c++){var u=o.forages[c];u!==e&&i.push(u._initReady().catch(s))}var l=o.forages.slice(0);return a.all(i).then((function(){return r.db=o.db,O(r)})).then((function(t){return r.db=t,k(r,e._defaultConfig.version)?S(r):t})).then((function(t){r.db=o.db=t,e._dbInfo=r;for(var n=0;n<l.length;n++){var i=l[n];i!==e&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}}))},_support:function(){try{if(!o||!o.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var r=this,n=new a((function(e,n){r.ready().then((function(){I(r._dbInfo,y,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var r=a.result;if(r){var n=r.value;P(n)&&(n=j(n));var o=t(n,r.key,s++);void 0!==o?e(o):r.continue()}else e()},a.onerror=function(){n(a.error)}}catch(t){n(t)}}))})).catch(n)}));return s(n,e),n},getItem:function(t,e){var r=this;t=u(t);var n=new a((function(e,n){r.ready().then((function(){I(r._dbInfo,y,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),P(t)&&(t=j(t)),e(t)},a.onerror=function(){n(a.error)}}catch(t){n(t)}}))})).catch(n)}));return s(n,e),n},setItem:function(t,e,r){var n=this;t=u(t);var o=new a((function(r,o){var i;n.ready().then((function(){return i=n._dbInfo,"[object Blob]"===p.call(e)?g(i.db).then((function(t){return t?e:(r=e,new a((function(t,e){var n=new FileReader;n.onerror=e,n.onloadend=function(e){var n=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:n,type:r.type})},n.readAsBinaryString(r)})));var r})):e})).then((function(e){I(n._dbInfo,v,(function(i,a){if(i)return o(i);try{var s=a.objectStore(n._dbInfo.storeName);null===e&&(e=void 0);var c=s.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),r(e)},a.onabort=a.onerror=function(){var t=c.error?c.error:c.transaction.error;o(t)}}catch(t){o(t)}}))})).catch(o)}));return s(o,r),o},removeItem:function(t,e){var r=this;t=u(t);var n=new a((function(e,n){r.ready().then((function(){I(r._dbInfo,v,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).delete(t);i.oncomplete=function(){e()},i.onerror=function(){n(a.error)},i.onabort=function(){var t=a.error?a.error:a.transaction.error;n(t)}}catch(t){n(t)}}))})).catch(n)}));return s(n,e),n},clear:function(t){var e=this,r=new a((function(t,r){e.ready().then((function(){I(e._dbInfo,v,(function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName).clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=i.error?i.error:i.transaction.error;r(t)}}catch(t){r(t)}}))})).catch(r)}));return s(r,t),r},length:function(t){var e=this,r=new a((function(t,r){e.ready().then((function(){I(e._dbInfo,y,(function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName).count();i.onsuccess=function(){t(i.result)},i.onerror=function(){r(i.error)}}catch(t){r(t)}}))})).catch(r)}));return s(r,t),r},key:function(t,e){var r=this,n=new a((function(e,n){t<0?e(null):r.ready().then((function(){I(r._dbInfo,y,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var r=c.result;r?0===t||s?e(r.key):(s=!0,r.advance(t)):e(null)},c.onerror=function(){n(c.error)}}catch(t){n(t)}}))})).catch(n)}));return s(n,e),n},keys:function(t){var e=this,r=new a((function(t,r){e.ready().then((function(){I(e._dbInfo,y,(function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName).openKeyCursor(),a=[];i.onsuccess=function(){var e=i.result;e?(a.push(e.key),e.continue()):t(a)},i.onerror=function(){r(i.error)}}catch(t){r(t)}}))})).catch(r)}));return s(r,t),r},dropInstance:function(t,e){e=l.apply(this,arguments);var r=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var n,i=this;if(t.name){var c=t.name===r.name&&i._dbInfo.db?a.resolve(i._dbInfo.db):O(t).then((function(e){var r=d[t.name],n=r.forages;r.db=e;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=e;return e}));n=t.storeName?c.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var r=e.version+1;b(t);var n=d[t.name],i=n.forages;e.close();for(var s=0;s<i.length;s++){var c=i[s];c._dbInfo.db=null,c._dbInfo.version=r}var u=new a((function(e,n){var i=o.open(t.name,r);i.onerror=function(t){i.result.close(),n(t)},i.onupgradeneeded=function(){i.result.deleteObjectStore(t.storeName)},i.onsuccess=function(){var t=i.result;t.close(),e(t)}}));return u.then((function(t){n.db=t;for(var e=0;e<i.length;e++){var r=i[e];r._dbInfo.db=t,w(r._dbInfo)}})).catch((function(e){throw(x(t,e)||a.resolve()).catch((function(){})),e}))}})):c.then((function(e){b(t);var r=d[t.name],n=r.forages;e.close();for(var i=0;i<n.length;i++)n[i]._dbInfo.db=null;var s=new a((function(e,r){var n=o.deleteDatabase(t.name);n.onerror=function(){var t=n.result;t&&t.close(),r(n.error)},n.onblocked=function(){console.warn('dropInstance blocked for database "'+t.name+'" until all open connections are closed')},n.onsuccess=function(){var t=n.result;t&&t.close(),e(t)}}));return s.then((function(t){r.db=t;for(var e=0;e<n.length;e++)w(n[e]._dbInfo)})).catch((function(e){throw(x(t,e)||a.resolve()).catch((function(){})),e}))}))}else n=a.reject("Invalid arguments");return s(n,e),n}};var D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=/^~~local_forage_type~([^~]+)~/,N="__lfsc__:",L=N.length,T="arbf",z="blob",B="si08",R="ui08",F="uic8",U="si16",W="si32",M="ur16",G="ui32",q="fl32",Z="fl64",K=L+T.length,H=Object.prototype.toString;function J(t){var e,r,n,o,i,a=.75*t.length,s=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),l=new Uint8Array(u);for(e=0;e<s;e+=4)r=D.indexOf(t[e]),n=D.indexOf(t[e+1]),o=D.indexOf(t[e+2]),i=D.indexOf(t[e+3]),l[c++]=r<<2|n>>4,l[c++]=(15&n)<<4|o>>2,l[c++]=(3&o)<<6|63&i;return u}function V(t){var e,r=new Uint8Array(t),n="";for(e=0;e<r.length;e+=3)n+=D[r[e]>>2],n+=D[(3&r[e])<<4|r[e+1]>>4],n+=D[(15&r[e+1])<<2|r[e+2]>>6],n+=D[63&r[e+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var Y={serialize:function(t,e){var r="";if(t&&(r=H.call(t)),t&&("[object ArrayBuffer]"===r||t.buffer&&"[object ArrayBuffer]"===H.call(t.buffer))){var n,o=N;t instanceof ArrayBuffer?(n=t,o+=T):(n=t.buffer,"[object Int8Array]"===r?o+=B:"[object Uint8Array]"===r?o+=R:"[object Uint8ClampedArray]"===r?o+=F:"[object Int16Array]"===r?o+=U:"[object Uint16Array]"===r?o+=M:"[object Int32Array]"===r?o+=W:"[object Uint32Array]"===r?o+=G:"[object Float32Array]"===r?o+=q:"[object Float64Array]"===r?o+=Z:e(new Error("Failed to get type for BinaryArray"))),e(o+V(n))}else if("[object Blob]"===r){var i=new FileReader;i.onload=function(){var r="~~local_forage_type~"+t.type+"~"+V(this.result);e("__lfsc__:blob"+r)},i.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(r){console.error("Couldn't convert value into a JSON string: ",t),e(null,r)}},deserialize:function(t){if(t.substring(0,L)!==N)return JSON.parse(t);var e,r=t.substring(K),n=t.substring(L,K);if(n===z&&A.test(r)){var o=r.match(A);e=o[1],r=r.substring(o[0].length)}var a=J(r);switch(n){case T:return a;case z:return i([a],{type:e});case B:return new Int8Array(a);case R:return new Uint8Array(a);case F:return new Uint8ClampedArray(a);case U:return new Int16Array(a);case M:return new Uint16Array(a);case W:return new Int32Array(a);case G:return new Uint32Array(a);case q:return new Float32Array(a);case Z:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}},stringToBuffer:J,bufferToString:V};function X(t,e,r,n){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function Q(t,e,r,n,o,i){t.executeSql(r,n,o,(function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,s){s.rows.length?i(t,a):X(t,e,(function(){t.executeSql(r,n,o,i)}),i)}),i):i(t,a)}),i)}function $(t,e,r,n){var o=this;t=u(t);var i=new a((function(i,a){o.ready().then((function(){void 0===e&&(e=null);var s=e,c=o._dbInfo;c.serializer.serialize(e,(function(e,u){u?a(u):c.db.transaction((function(r){Q(r,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){i(s)}),(function(t,e){a(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(n>0)return void i($.apply(o,[t,s,r,n-1]));a(e)}}))}))})).catch(a)}));return s(i,r),i}function tt(t){return new a((function(e,r){t.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,n){for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i).name);e({db:t,storeNames:o})}),(function(t,e){r(e)}))}),(function(t){r(t)}))}))}var et={_driver:"webSQLStorage",_initStorage:function(t){var e=this,r={db:null};if(t)for(var n in t)r[n]="string"!=typeof t[n]?t[n].toString():t[n];var o=new a((function(t,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(t){return n(t)}r.db.transaction((function(o){X(o,r,(function(){e._dbInfo=r,t()}),(function(t,e){n(e)}))}),n)}));return r.serializer=Y,o},_support:"function"==typeof openDatabase,iterate:function(t,e){var r=this,n=new a((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){Q(r,o,"SELECT * FROM "+o.storeName,[],(function(r,n){for(var i=n.rows,a=i.length,s=0;s<a;s++){var c=i.item(s),u=c.value;if(u&&(u=o.serializer.deserialize(u)),void 0!==(u=t(u,c.key,s+1)))return void e(u)}e()}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,e),n},getItem:function(t,e){var r=this;t=u(t);var n=new a((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){Q(r,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),e(n)}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,e),n},setItem:function(t,e,r){return $.apply(this,[t,e,r,1])},removeItem:function(t,e){var r=this;t=u(t);var n=new a((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){Q(r,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,e),n},clear:function(t){var e=this,r=new a((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){Q(e,n,"DELETE FROM "+n.storeName,[],(function(){t()}),(function(t,e){r(e)}))}))})).catch(r)}));return s(r,t),r},length:function(t){var e=this,r=new a((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){Q(e,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(e,r){var n=r.rows.item(0).c;t(n)}),(function(t,e){r(e)}))}))})).catch(r)}));return s(r,t),r},key:function(t,e){var r=this,n=new a((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){Q(r,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,r){var n=r.rows.length?r.rows.item(0).key:null;e(n)}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,e),n},keys:function(t){var e=this,r=new a((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){Q(e,n,"SELECT key FROM "+n.storeName,[],(function(e,r){for(var n=[],o=0;o<r.rows.length;o++)n.push(r.rows.item(o).key);t(n)}),(function(t,e){r(e)}))}))})).catch(r)}));return s(r,t),r},dropInstance:function(t,e){e=l.apply(this,arguments);var r=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var n,o=this;return s(n=t.name?new a((function(e){var n;n=t.name===r.name?o._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:n,storeNames:[t.storeName]}):e(tt(n))})).then((function(t){return new a((function(e,r){t.db.transaction((function(n){function o(t){return new a((function(e,r){n.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){r(e)}))}))}for(var i=[],s=0,c=t.storeNames.length;s<c;s++)i.push(o(t.storeNames[s]));a.all(i).then((function(){e()})).catch((function(t){r(t)}))}),(function(t){r(t)}))}))})):a.reject("Invalid arguments"),e),n}};function rt(t,e){var r=t.name+"/";return t.storeName!==e.storeName&&(r+=t.storeName+"/"),r}function nt(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||localStorage.length>0}var ot={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var r in t)e[r]=t[r];return e.keyPrefix=rt(t,this._defaultConfig),nt()?(this._dbInfo=e,e.serializer=Y,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var r=this,n=r.ready().then((function(){for(var e=r._dbInfo,n=e.keyPrefix,o=n.length,i=localStorage.length,a=1,s=0;s<i;s++){var c=localStorage.key(s);if(0===c.indexOf(n)){var u=localStorage.getItem(c);if(u&&(u=e.serializer.deserialize(u)),void 0!==(u=t(u,c.substring(o),a++)))return u}}}));return s(n,e),n},getItem:function(t,e){var r=this;t=u(t);var n=r.ready().then((function(){var e=r._dbInfo,n=localStorage.getItem(e.keyPrefix+t);return n&&(n=e.serializer.deserialize(n)),n}));return s(n,e),n},setItem:function(t,e,r){var n=this;t=u(t);var o=n.ready().then((function(){void 0===e&&(e=null);var r=e;return new a((function(o,i){var a=n._dbInfo;a.serializer.serialize(e,(function(e,n){if(n)i(n);else try{localStorage.setItem(a.keyPrefix+t,e),o(r)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||i(t),i(t)}}))}))}));return s(o,r),o},removeItem:function(t,e){var r=this;t=u(t);var n=r.ready().then((function(){var e=r._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return s(n,e),n},clear:function(t){var e=this,r=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(t)&&localStorage.removeItem(n)}}));return s(r,t),r},length:function(t){var e=this.keys().then((function(t){return t.length}));return s(e,t),e},key:function(t,e){var r=this,n=r.ready().then((function(){var e,n=r._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(n.keyPrefix.length)),e}));return s(n,e),n},keys:function(t){var e=this,r=e.ready().then((function(){for(var t=e._dbInfo,r=localStorage.length,n=[],o=0;o<r;o++){var i=localStorage.key(o);0===i.indexOf(t.keyPrefix)&&n.push(i.substring(t.keyPrefix.length))}return n}));return s(r,t),r},dropInstance:function(t,e){if(e=l.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var r=this.config();t.name=t.name||r.name,t.storeName=t.storeName||r.storeName}var n,o=this;return n=t.name?new a((function(e){t.storeName?e(rt(t,o._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var r=localStorage.key(e);0===r.indexOf(t)&&localStorage.removeItem(r)}})):a.reject("Invalid arguments"),s(n,e),n}},it=function(t,e){for(var r=t.length,n=0;n<r;){if((o=t[n])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;n++}var o,i;return!1},at=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},st={},ct={},ut={INDEXEDDB:C,WEBSQL:et,LOCALSTORAGE:ot},lt=[ut.INDEXEDDB._driver,ut.WEBSQL._driver,ut.LOCALSTORAGE._driver],ft=["dropInstance"],ht=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ft),dt={description:"",driver:lt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function pt(t,e){t[e]=function(){var r=arguments;return t.ready().then((function(){return t[e].apply(t,r)}))}}function yt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var r in e)e.hasOwnProperty(r)&&(at(e[r])?arguments[0][r]=e[r].slice():arguments[0][r]=e[r])}return arguments[0]}var vt=function(){function t(e){for(var r in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ut)if(ut.hasOwnProperty(r)){var n=ut[r],o=n._driver;this[r]=o,st[o]||this.defineDriver(n)}this._defaultConfig=yt({},dt),this._config=yt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":n(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,r){var n=new a((function(e,r){try{var n=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void r(o);for(var i=ht.concat("_initStorage"),c=0,u=i.length;c<u;c++){var l=i[c];if((!it(ft,l)||t[l])&&"function"!=typeof t[l])return void r(o)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),r=a.reject(e);return s(r,arguments[arguments.length-1]),r}},r=0,n=ft.length;r<n;r++){var o=ft[r];t[o]||(t[o]=e(o))}}();var f=function(r){st[n]&&console.info("Redefining LocalForage driver: "+n),st[n]=t,ct[n]=r,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(f,r):f(!!t._support):f(!0)}catch(t){r(t)}}));return c(n,e,r),n},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,r){var n=st[t]?a.resolve(st[t]):a.reject(new Error("Driver not found."));return c(n,e,r),n},t.prototype.getSerializer=function(t){var e=a.resolve(Y);return c(e,t),e},t.prototype.ready=function(t){var e=this,r=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return c(r,t,t),r},t.prototype.setDriver=function(t,e,r){var n=this;at(t)||(t=[t]);var o=this._getSupportedDrivers(t);function i(){n._config.driver=n.driver()}function s(t){return n._extend(t),i(),n._ready=n._initStorage(n._config),n._ready}var u=null!==this._driverSet?this._driverSet.catch((function(){return a.resolve()})):a.resolve();return this._driverSet=u.then((function(){var t=o[0];return n._dbInfo=null,n._ready=null,n.getDriver(t).then((function(t){n._driver=t._driver,i(),n._wrapLibraryMethodsWithReady(),n._initDriver=function(t){return function(){var e=0;return function r(){for(;e<t.length;){var o=t[e];return e++,n._dbInfo=null,n._ready=null,n.getDriver(o).then(s).catch(r)}i();var c=new Error("No available storage method found.");return n._driverSet=a.reject(c),n._driverSet}()}}(o)}))})).catch((function(){i();var t=new Error("No available storage method found.");return n._driverSet=a.reject(t),n._driverSet})),c(this._driverSet,e,r),this._driverSet},t.prototype.supports=function(t){return!!ct[t]},t.prototype._extend=function(t){yt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r];this.supports(o)&&e.push(o)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ht.length;t<e;t++)pt(this,ht[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),mt=new vt;e.exports=mt},{3:3}]},{},[4])(4)},2024:(t,e,r)=>{"use strict";var n=r(2141);t.exports={generate:function(){var t=n.v1();return t.substr(14,4)+t.substr(9,4)+t.substr(0,8)+t.substr(19,4)+t.substr(24,t.length)},toBinary16:function(t){return new Buffer(t,"hex")},fromBinary16:function(t){return t.toString("hex")}}},2141:(t,e,r)=>{var n=r(1247),o=r(1180),i=o;i.v1=n,i.v4=o,t.exports=i},2437:t=>{for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);t.exports=function(t,r){var n=r||0,o=e;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}},1568:t=>{var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},1247:(t,e,r)=>{var n,o,i=r(1568),a=r(2437),s=0,c=0;t.exports=function(t,e,r){var u=e&&r||0,l=e||[],f=(t=t||{}).node||n,h=void 0!==t.clockseq?t.clockseq:o;if(null==f||null==h){var d=i();null==f&&(f=n=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==h&&(h=o=16383&(d[6]<<8|d[7]))}var p=void 0!==t.msecs?t.msecs:(new Date).getTime(),y=void 0!==t.nsecs?t.nsecs:c+1,v=p-s+(y-c)/1e4;if(v<0&&void 0===t.clockseq&&(h=h+1&16383),(v<0||p>s)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,c=y,o=h;var m=(1e4*(268435455&(p+=122192928e5))+y)%4294967296;l[u++]=m>>>24&255,l[u++]=m>>>16&255,l[u++]=m>>>8&255,l[u++]=255&m;var g=p/4294967296*1e4&268435455;l[u++]=g>>>8&255,l[u++]=255&g,l[u++]=g>>>24&15|16,l[u++]=g>>>16&255,l[u++]=h>>>8|128,l[u++]=255&h;for(var b=0;b<6;++b)l[u+b]=f[b];return e||a(l)}},1180:(t,e,r)=>{var n=r(1568),o=r(2437);t.exports=function(t,e,r){var i=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){"use strict";e=function(){return r};var r={},n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}r.wrap=l;var h={};function d(){}function p(){}function y(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==n&&o.call(g,a)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(e,r){function n(i,a,s,c){var u=f(e[i],e,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==t(h)&&o.call(h,"__await")?r.resolve(h.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):r.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var i;this._invoke=function(t,e){function o(){return new r((function(r,o){n(t,e,r,o)}))}return i=i?i.then(o,o):o()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=y,u(b,"constructor",y),u(y,"constructor",p),p.displayName=u(y,c,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},r.awrap=function(t){return{__await:t}},w(x.prototype),u(x.prototype,s,(function(){return this})),r.AsyncIterator=x,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new x(l(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},r.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},r}function n(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s,c=r(4429),u=r(4731),l=r(5486),f=r(9779);window.___cc__CcScraperGlobalObject=i(i(i(i({},c),u),l),f),(s=e().mark((function t(){var r,n;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=document.createElement("div"),n={position:"fixed",top:"0",right:"0"},r.id="cc-scraper-widget-container",r.classList.add("cc-scraper-widget-container"),r.setAttribute("style",Object.keys(n).reduce((function(t,e){return t+"".concat(e,":").concat(n[e],";")}),"")),document.body.append(r),t.next=7,new Promise((function(t){var e=setInterval((function(){document.querySelector("#cc-scraper-widget-container")&&(console.log({message:"Scraper Widget container is ready.",statusOk:!0}),clearInterval(e),t())}),100)}));case 7:case"end":return t.stop()}}),t)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=s.apply(t,e);function a(t){n(i,r,o,a,c,"next",t)}function c(t){n(i,r,o,a,c,"throw",t)}a(void 0)}))})()})()})();